(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{462:function(e,t,a){e.exports=a(685)},467:function(e,t,a){},685:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(467),a(321)),i=a(724),s=a(723),u=a(710),m=a(322),d=a(248),f=a(126),p=a(84),b=a(405),E=a.n(b),g=a(30),h="SET_NAV_IS_OPEN",v=a(9),O=a(18),C=a.n(O),j=new Date,y={nav:{isOpen:!1},toastMessages:[],dateRange:{from:C()().subtract(2,"weeks").toDate(),to:j}},w=a(28),D="SET_DATE_RANGE",x=a(16),S="ADD_TOAST_MESSAGE",k="CLEAR_TOAST_MESSAGES",N=Object(n.createContext)(y),I=N.Provider,R=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){var a=e;return a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(w.a)(Object(w.a)({},e),{},{toastMessages:[].concat(Object(x.a)(e.toastMessages),[{message:t.message,messageType:t.messageType}])});case k:return Object(w.a)(Object(w.a)({},e),{},{toastMessages:[]});default:return e}}(a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(w.a)(Object(w.a)({},e),{},{dateRange:Object(w.a)(Object(w.a)({},e.dateRange),{},{from:t.from,to:t.to})});default:return e}}(a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(w.a)(Object(w.a)({},e),{},{nav:Object(w.a)(Object(w.a)({},e.nav),{},{isOpen:t.isOpen})});default:return e}}(a,t),t),t)}),y),l=Object(v.a)(a,2),c=l[0],o=l[1];return r.a.createElement(I,{value:{state:c,dispatch:o}},t)},T=function(){var e=Object(n.useContext)(N),t=e.state,a=e.dispatch;return{navIsOpen:Object(g.get)(t,"nav.isOpen",!1),setNavIsOpen:function(e){a({type:h,isOpen:e})},toggleNavOpen:function(){a({type:h,isOpen:!t.nav.isOpen})}}},P=Object(o.a)((function(e){return{root:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},rootNavOpen:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{marginLeft:e.spacing(5),flexGrow:1}}})),A=function(){var e=P({}),t=T(),a=t.navIsOpen,n=t.toggleNavOpen;return r.a.createElement(u.a,{position:"absolute",className:"".concat(e.root," ").concat(a&&e.rootNavOpen)},r.a.createElement(m.a,null,r.a.createElement(d.a,{onClick:n,edge:"start"},r.a.createElement(f.a,{htmlColor:"#ffffff"},r.a.createElement(E.a,null))),r.a.createElement(p.a,{variant:"h6",className:e.title},"Intelligent Claims System")))},M=a(327),B=a(249),L=function(){var e=Object(n.useContext)(N),t=e.state,a=e.dispatch;return{dateRangeFrom:Object(g.get)(t,"dateRange.from"),dateRangeTo:Object(g.get)(t,"dateRange.to"),setDateRange:function(e,t){a({type:D,from:e,to:t})}}},F=(a(222),a(223),a(120)),G=function(){var e=L(),t=e.dateRangeFrom,a=e.dateRangeTo,n=e.setDateRange,l=r.a.useRef(null),c=r.a.useState(!1),o=Object(v.a)(c,2),i=o[0],s=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{variant:"contained",color:"info",ref:l,onClick:function(){return s(!i)}},C()(t).format("LL")," - ",C()(a).format("LL")),r.a.createElement(B.a,{open:i,anchorEl:l.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return s(!1)}},r.a.createElement(F.DateRangePicker,{onChange:function(e){var t=e.selection;n(t.startDate,t.endDate)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,direction:"horizontal",months:2,ranges:[{startDate:t,endDate:a,key:"selection"}]})))},W=a(10),z=window.CHATBOT_URL||"http://127.0.0.1:5001",H=a(57),U=a(713),_=a(688),K=a(328),Y=a(690),V=a(714),J=a(329),Q=a(712),$=a(715),q=a(716),X=a(717),Z=a(718),ee=a(719),te=a(83),ae=Object(o.a)((function(e){return{closeIconContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",height:63},paper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"},paperClosed:Object(W.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}})),ne=Object(te.g)((function(e){var t=e.history,a=ae(),n=T(),l=n.navIsOpen,c=n.setNavIsOpen;return r.a.createElement(H.a,{variant:"permanent",open:l,classes:{paper:"".concat(a.paper," ").concat(l?"":a.paperClosed)}},r.a.createElement("div",{className:a.closeIconContainer},r.a.createElement(d.a,{onClick:function(){return c(!1)}},r.a.createElement(Q.a,null))),r.a.createElement(U.a,null),r.a.createElement(_.a,null,r.a.createElement(K.a,{title:"Dashboard"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/")}},r.a.createElement(V.a,null,r.a.createElement($.a,null)),r.a.createElement(J.a,null,"Dashboard"))),r.a.createElement(K.a,{title:"Claims"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/claims")}},r.a.createElement(V.a,null,r.a.createElement(q.a,null)),r.a.createElement(J.a,null,"Claims"))),r.a.createElement(K.a,{title:"Staff"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/staff")}},r.a.createElement(V.a,null,r.a.createElement(X.a,null)),r.a.createElement(J.a,null,"Staff"))),r.a.createElement(K.a,{title:"Utility"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/utility")}},r.a.createElement(V.a,null,r.a.createElement(Z.a,null)),r.a.createElement(J.a,null,"Utility")))),r.a.createElement(U.a,null),r.a.createElement(_.a,null,r.a.createElement(K.a,{title:"Chatbot"},r.a.createElement(Y.a,{button:!0,onClick:function(){return window.open(z)}},r.a.createElement(V.a,null,r.a.createElement(ee.a,null)),r.a.createElement(J.a,null,"Chatbot")))))})),re={0:{label:"New",color:"#000"},1:{label:"Pending",color:"#4791db"},2:{label:"Approved",color:"#81c784"},3:{label:"Settled",color:"#64b5f6"},4:{label:"Rejected",color:"#e57373"},5:{label:"Cancelled",color:"#ffb74d"}},le=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),ce=function(e){var t=e.status,a=re[t],n=a.label,l=void 0===n?"Unknown":n,c=a.color,o=le({color:void 0===c?"#000":c});return r.a.createElement("span",{className:o.root},l)},oe=a(720),ie=Object(o.a)((function(e){return{root:{padding:e.spacing(1)},label:{},value:{fontWeight:"bold"}}})),se=function(e){var t=e.label,a=e.value,n=ie({});return r.a.createElement(oe.a,{item:!0,md:3,className:n.root},r.a.createElement(p.a,{variant:"caption",className:n.label},t),r.a.createElement(p.a,{className:n.value},a))},ue=a(247),me=function(){return r.a.createElement(ue.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},r.a.createElement(ue.a,{marginTop:10,marginBottom:10},"No data found. Try adjusting the search parameters."))},de=a(721),fe=Object(o.a)((function(e){return{divider:{marginBottom:e.spacing(3)},title:{flexGrow:1},bigTitle:{fontSize:"1.5rem"}}})),pe=function(e){var t=e.title,a=e.actions,n=void 0===a?null:a,l=e.subsection,c=void 0!==l&&l,o=fe({});return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{disableGutters:!0},r.a.createElement(p.a,{className:"".concat(o.title," ").concat(!c&&o.bigTitle),variant:"h6"},t),r.a.createElement(ue.a,null,n)),r.a.createElement(U.a,{className:o.divider}))},be=Object(o.a)((function(e){return{root:{height:"100%",width:"100%",display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"stretch",justifyContent:"stretch"},loadingContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},pageContents:{flexGrow:1}}})),Ee=function(e){var t=e.title,a=e.isLoading,n=void 0!==a&&a,l=e.actions,c=void 0===l?null:l,o=e.children,i=be({});return r.a.createElement(ue.a,{className:i.root},r.a.createElement(pe,{title:t,actions:c}),r.a.createElement(ue.a,{className:i.pageContents},n?r.a.createElement(ue.a,{className:i.loadingContainer},r.a.createElement(de.a,null)):o))},ge=a(722),he=a(692),ve=function(){var e=Object(n.useContext)(N),t=e.state,a=e.dispatch,r=t.toastMessages,l=function(e,t){a({type:S,message:e,messageType:t})};return{toastMessages:r,addToastMessage:l,addSuccessMessage:function(e){l(e,"success")},addErrorMessage:function(e){l(e,"error")},addInfoMessage:function(e){l(e,"info")},clearToastMessages:function(){a({type:k})}}},Oe=Object(o.a)((function(e){return{error:{backgroundColor:e.palette.error.main},info:{backgroundColor:e.palette.info.main},success:{backgroundColor:e.palette.success.main}}}));function Ce(){var e=Oe({}),t=ve(),a=t.toastMessages,n=t.clearToastMessages,l=r.a.useState(!1),c=Object(v.a)(l,2),o=c[0],i=c[1];r.a.useEffect((function(){a.length>0&&i(!0)}),[a]);var s=function(){n()};return r.a.createElement(r.a.Fragment,null,a.map((function(t,a){var n=t.message,l=t.messageType;return r.a.createElement(ge.a,{open:o,autoHideDuration:6e3,onClose:s,key:a},r.a.createElement(he.a,{className:"".concat(e[l]),message:n}))})))}var je=a(47),ye=a(20),we=a.n(ye),De=a(27),xe=a(731),Se=a(54),ke=a.n(Se),Ne=a(38),Ie=a.n(Ne),Re=window.API_HOST||"http://127.0.0.1:8081";function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Ie.a.get("".concat(Re,"/medicalclaim"),{params:{datefrom:C()(e).hours(0).minutes(0).seconds(0).toDate(),dateto:C()(t).hours(23).minutes(59).seconds(59).toDate(),limit:a,offset:n}})}function Pe(e){return Ie.a.get("".concat(Re,"/medicalclaim/").concat(e))}function Ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Ie.a.get("".concat(Re,"/medicalclaim/autoclaimdistribution"),{params:{datefrom:C()(e).hours(0).minutes(0).seconds(0).toDate(),dateto:C()(t).hours(23).minutes(59).seconds(59).toDate()}})}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Ie.a.get("".concat(Re,"/medicalclaim/statusdistribution"),{params:{datefrom:C()(e).hours(0).minutes(0).seconds(0).toDate(),dateto:C()(t).hours(23).minutes(59).seconds(59).toDate()}})}var Be=function(e){return C()(e).format("LLL")},Le=function(e){return"$"+e.toLocaleString()},Fe={false:{label:"Needs human intervention",color:"#9a0036"},true:{label:"Machine classified",color:"#388e3c"},null:{label:"Pending classification",color:"#a8a8a8"}},Ge=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),We=function(e){var t=e.autoClaimStatus,a=Fe[String(t)],n=a.label,l=void 0===n?"Unknown":n,c=a.color,o=Ge({color:void 0===c?"#000":c});return r.a.createElement("span",{className:o.root},l)},ze=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},tableContainer:{flexGrow:1,maxHeight:"calc(100vh - 300px)",overflow:"auto"},paginationContainer:{flexGrow:0,flexShrink:1,marginTop:e.spacing(2)}}})),He=Object(te.g)((function(e){var t=e.history,a=ze({}),l=ve().addErrorMessage,c=L(),o=c.dateRangeFrom,i=c.dateRangeTo,s=Object(n.useState)(!1),u=Object(v.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)([]),p=Object(v.a)(f,2),b=p[0],E=p[1],g=Object(n.useState)(0),h=Object(v.a)(g,2),O=h[0],C=h[1],j=Object(n.useState)(1),y=Object(v.a)(j,2),w=y[0],D=y[1];Object(n.useEffect)((function(){x(1)}),[o,i]);var x=function(){var e=Object(De.a)(we.a.mark((function e(){var t,a,n,r=arguments;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=10*(t-1),e.prev=2,d(!0),e.next=6,Te(o,i,10,a);case 6:n=e.sent,D(t),C(n.data.total),E(n.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),l("Error loading claims");case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:"Claims",isLoading:m,actions:r.a.createElement(G,null)},r.a.createElement(ue.a,{className:a.root},r.a.createElement(ue.a,{className:a.tableContainer},r.a.createElement(ke.a,{data:b,columns:[{name:"ClaimNo",label:"Claim No",options:{customBodyRender:function(e){return r.a.createElement(M.a,{color:"primary",onClick:function(){return t.push("/claims/details/".concat(e))}},e)},sort:!1}},{name:"PolicyNo",label:"Policy No",options:{customBodyRender:function(e){return r.a.createElement(M.a,{color:"primary",onClick:function(){return t.push("/policies/details/".concat(e))}},e)},sort:!1}},{name:"Status",label:"Status",options:{customBodyRender:function(e){return r.a.createElement(ce,{status:e})},sort:!1}},{name:"AutoClaim",label:"Auto Claim",options:{customBodyRender:function(e){return r.a.createElement(We,{autoClaimStatus:e})}}},{name:"CreatdDate",label:"Submission Date",options:{customBodyRender:function(e){return Be(e)},sort:!1}},{name:"RefundAmount",label:"Refund Amt",options:{customBodyRender:function(e){return Le(e)},sort:!1}},{name:"ClaimNo",label:"Actions",options:{customBodyRender:function(e){return r.a.createElement(M.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/claims/details/".concat(e))}},"View Details")}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollFullHeight"}})),r.a.createElement(ue.a,{className:a.paginationContainer},r.a.createElement(xe.a,{count:Math.ceil(O/10),page:w,color:"primary",onChange:function(e,t){x(t)}}))))})),Ue={1:{color:"#115293"},2:{color:"#9a0036"},3:{color:"#d32f2f"},4:{color:"#f57c00"}},_e=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),Ke=function(e){var t=e.poolID,a=Object(g.get)(Ue,"".concat(t,".color"),"#000"),n=_e({color:a});return r.a.createElement("span",{className:n.root},t)},Ye=Object(te.g)((function(e){var t=e.history,a=ve().addErrorMessage,l=Object(n.useState)(!1),c=Object(v.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(null),u=Object(v.a)(s,2),m=u[0],d=u[1],f=Object(te.f)().claimNo;Object(n.useEffect)((function(){p()}),[f]);var p=function(){var e=Object(De.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Pe(f);case 4:t=e.sent,d(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Error loading claim");case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:"Claim No: ".concat(f),isLoading:o},!!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Policy No",value:r.a.createElement(ue.a,{onClick:function(){return t.push("/policies/details/".concat(m.PolicyNo))}},m.PolicyNo)}),r.a.createElement(se,{label:"Date Occ",value:Be(m.DateOcc)}),r.a.createElement(se,{label:"Status",value:r.a.createElement(ce,{status:m.Status})}),r.a.createElement(se,{label:"Bill Document",value:m.AttachUrl?r.a.createElement(ue.a,{onClick:function(){return window.open(m.AttachUrl)}},"View Document"):"-"}),r.a.createElement(se,{label:"Rider",value:m.Rider}),r.a.createElement(se,{label:"Refund Amount",value:Le(m.RefundAmount)}),r.a.createElement(se,{label:"Auto Claim",value:r.a.createElement(We,{autoClaimStatus:m.AutoClaim})}),r.a.createElement(se,{label:"Classification Reason",value:m.ClassificationReason}),r.a.createElement(se,{label:"Remark",value:m.ClaimRemark}),r.a.createElement(se,{label:"CoPay",value:Le(m.CopayAmount)}),r.a.createElement(se,{label:"Pool ID",value:m.PoolID?r.a.createElement(Ke,{poolID:m.PoolID}):"-"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Medical Panel",subsection:!0}),r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Medical Panel Reg No",value:Object(g.get)(m,"MedicalPanel.RegistrationNo","-")}),r.a.createElement(se,{label:"Medical Panel Name",value:Object(g.get)(m,"MedicalPanel.SpecialistName","-")}),r.a.createElement(se,{label:"Medical Panel Specialty",value:Object(g.get)(m,"MedicalPanel.Specialty","-")}),r.a.createElement(se,{label:"Medical Panel Blacklisted?",value:Object(g.get)(m,"MedicalPanel.BlacklistReasonID",null)?"Y":"N"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Claim Items",subsection:!0}),r.a.createElement(ke.a,{data:m.ClaimItems,columns:[{name:"ID",label:"ID"},{name:"ItemDesc",label:"Description"},{name:"BenefitCode",label:"Benefit Code"},{name:"Qty",label:"Qty"},{name:"Amount",label:"Amount",options:{customBodyRender:function(e){return Le(e)}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}})))})),Ve=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/claims/details/:claimNo",component:Ye}),r.a.createElement(te.a,{component:He}))};function Je(e){return Ie.a.get("".concat(Re,"/healthpolicy/").concat(e))}var Qe=Object(te.g)((function(e){e.history;var t=ve().addErrorMessage,a=Object(n.useState)(!1),l=Object(v.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(null),s=Object(v.a)(i,2),u=s[0],m=s[1],d=Object(te.f)().policyNo;Object(n.useEffect)((function(){f()}),[d]);var f=function(){var e=Object(De.a)(we.a.mark((function e(){var a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,Je(d);case 4:a=e.sent,m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading claim");case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:"Policy No: ".concat(d),isLoading:c},!!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Commencement Date",value:Be(u.CommencementDate)}),r.a.createElement(se,{label:"Effective Date",value:Be(u.EffectiveDate)}),r.a.createElement(se,{label:"Expiry Date",value:Be(u.ExpiryDate)}),r.a.createElement(se,{label:"Insured Name",value:u.InsuredName}),r.a.createElement(se,{label:"Premium Amount",value:Le(u.PremiumAmount)}),r.a.createElement(se,{label:"Rider Premium Amount",value:Le(u.RiderPremiumAmount)}),r.a.createElement(se,{label:"Product Code",value:u.ProductPlan.ProductCode}),r.a.createElement(se,{label:"Description",value:u.ProductPlan.Description})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"h6"},"Product Benefits"),r.a.createElement(U.a,{style:{marginTop:10,marginBottom:30}}),r.a.createElement(ue.a,null,r.a.createElement(ke.a,{data:u.ProductPlan.PolicyBenefits,columns:[{name:"BenefitCode",label:"Benefit Code"},{name:"Description",label:"Description"},{name:"BenefitLimit",label:"Benefit Limit",options:{customBodyRender:function(e){return Le(e)}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}}))))})),$e=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/policies/details/:policyNo",component:Qe}))},qe=a(3),Xe=a(97),Ze=Object(o.a)((function(e){return{root:{padding:e.spacing(2),flexGrow:1,margin:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},header:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"stretch",paddingBottom:e.spacing(2)},title:{color:e.palette.grey[600],fontWeight:"normal",fontSize:"1rem",flexGrow:1},actions:{},contentsContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"}}})),et=function(e){var t=e.children,a=e.isLoading,n=void 0!==a&&a,l=e.className,c=void 0===l?"":l,o=e.title,i=e.action,s=void 0===i?null:i,u=Object(qe.a)(e,["children","isLoading","className","title","action"]),m=Ze({});return r.a.createElement(Xe.a,Object.assign({},u,{className:"".concat(c," ").concat(m.root)}),r.a.createElement("div",{className:m.header},r.a.createElement(p.a,{variant:"h6",className:m.title},o),!!s&&r.a.createElement("div",{className:m.action},s)),r.a.createElement("div",{className:m.contentsContainer},n?r.a.createElement(de.a,null):t))},tt=a(39),at=Object(o.a)((function(){return{pieContainer:{width:"100%",height:"100%",display:"flex",alignContent:"center",justifyContent:"center"}}})),nt=function(){var e=at({}),t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),i=Object(v.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(v.a)(m,2),f=d[0],p=d[1],b=ve().addErrorMessage,E=L(),h=E.dateRangeFrom,O=E.dateRangeTo;Object(n.useEffect)((function(){C()}),[h,O]);var C=function(){var e=Object(De.a)(we.a.mark((function e(){var t,a,n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,Me(h,O,5,0);case 4:t=e.sent,a=t.data.reduce((function(e,t){if(!e[t.Status]){var a=re[t.Status];e[t.Status]={label:a?a.label:"Unknown",color:a?a.color:"#000",classificationTotals:{false:0,true:0,null:0},total:0}}var n=t.Count;return e[t.Status].classificationTotals[String(t.AutoClaim)]=n,e[t.Status].total+=n,e}),{}),c(Object.values(a)),n=Object.values(a).reduce((function(e,t){return["false","true","null"].forEach((function(a){var n=t.classificationTotals[a];n>0&&e.push({statusLabel:t.label,label:"".concat(t.label," (").concat(Object(g.get)(Fe,"".concat(a,".label"),"unknown"),")"),color:Object(g.get)(Fe,"".concat(a,".color"),"#000"),total:n})})),e}),[]),u(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),b("Error loading recent claims");case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(et,{title:"Claim Status Distribution",isLoading:f},r.a.createElement("div",{className:e.pieContainer},l.length>0?r.a.createElement(tt.e,{aspect:1,height:"100%"},r.a.createElement(tt.d,null,r.a.createElement(tt.c,{data:l,nameKey:"label",dataKey:"total",isAnimationActive:!1,outerRadius:"65%",strokeWidth:0},l.map((function(e,t){return r.a.createElement(tt.a,{key:t,fill:e.color})}))),r.a.createElement(tt.c,{data:s,nameKey:"label",dataKey:"total",isAnimationActive:!1,innerRadius:"70%",outerRadius:"80%"},s.map((function(e,t){return r.a.createElement(tt.a,{key:"claimStatus-".concat(t),fill:e.color})}))),r.a.createElement(tt.f,null),r.a.createElement(tt.b,{payload:l.map((function(e){return{type:"square",value:e.label,color:e.color}}))}))):r.a.createElement(me,null)))},rt=Object(o.a)((function(){return{pieContainer:{width:"100%",height:"100%",display:"flex",alignContent:"center",justifyContent:"center"}}})),lt=function(){var e=rt({}),t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(v.a)(o,2),s=i[0],u=i[1],m=ve().addErrorMessage,d=L(),f=d.dateRangeFrom,p=d.dateRangeTo;Object(n.useEffect)((function(){b()}),[f,p]);var b=function(){var e=Object(De.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Ae(f,p,5,0);case 4:t=e.sent,c(t.data.map((function(e){var t=Fe[String(e.AutoClaim)];return{label:t?t.label:"Unknown",color:t?t.color:"#000",total:e.Count}}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),m("Error loading recent claims");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(et,{title:"Machine vs Human Classification",isLoading:s},r.a.createElement("div",{className:e.pieContainer},l.length>0?r.a.createElement(tt.e,{aspect:1,height:"100%"},r.a.createElement(tt.d,null,r.a.createElement(tt.c,{data:l,nameKey:"label",dataKey:"total",isAnimationActive:!1,strokeWidth:0},l.map((function(e,t){return r.a.createElement(tt.a,{key:t,fill:e.color})}))),r.a.createElement(tt.f,null),r.a.createElement(tt.b,null))):r.a.createElement(me,null)))},ct=Object(te.g)((function(e){var t=e.history,a=ve().addErrorMessage,l=L(),c=l.dateRangeFrom,o=l.dateRangeTo,i=Object(n.useState)(!1),s=Object(v.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)([]),f=Object(v.a)(d,2),p=f[0],b=f[1];Object(n.useEffect)((function(){E()}),[c,o]);var E=function(){var e=Object(De.a)(we.a.mark((function e(){var t;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Te(c,o,5,0);case 4:t=e.sent,b(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Error loading recent claims");case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(et,{title:"Recent Claims",isLoading:u},r.a.createElement("div",{style:{width:"100%"}},p.length>0?r.a.createElement(ke.a,{data:p,columns:[{name:"ClaimNo",label:"Claim No",options:{customBodyRender:function(e){return r.a.createElement(M.a,{color:"primary",onClick:function(){return t.push("/claims/details/".concat(e))}},e)}}},{name:"PolicyNo",label:"Policy No",options:{customBodyRender:function(e){return r.a.createElement(M.a,{color:"primary",onClick:function(){return t.push("/policies/details/".concat(e))}},e)}}},{name:"Status",label:"Status",options:{customBodyRender:function(e){return r.a.createElement(ce,{status:e})}}},{name:"AutoClaim",label:"Auto Claim",options:{customBodyRender:function(e){return r.a.createElement(We,{autoClaimStatus:e})}}},{name:"CreatedDate",label:"Submission Date",options:{customBodyRender:function(e){return Be(e)}}},{name:"RefundAmount",label:"Refund Amt",options:{customBodyRender:function(e){return Le(e)}}}],options:{elevation:0,selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1}}):r.a.createElement(me,null)))}));function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ie.a.get("".concat(Re,"/staff?limit=").concat(e,"&offset=").concat(t))}function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Ie.a.get("".concat(Re,"/staff/availability?date=").concat(C()(e).format("YYYY-MM-DD"),"&limit=10"))}function st(e,t,a){return Ie.a.post("".concat(Re,"/staff/").concat(e,"/leave"),{StartDateTime:t,EndDateTime:a})}function ut(e,t,a,n){return Ie.a.put("".concat(Re,"/staff/").concat(e,"/leave/").concat(t),{StartDateTime:a,EndDateTime:n})}function mt(e,t){return Ie.a.delete("".concat(Re,"/staff/").concat(e,"/leave/").concat(t))}var dt=a(422),ft=function(e){var t=e.date,a=e.onChange,n=r.a.useRef(null),l=r.a.useState(!1),c=Object(v.a)(l,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{variant:"contained",color:"info",ref:n,onClick:function(){return i(!o)}},C()(t).format("LL"),"}"),r.a.createElement(B.a,{open:o,anchorEl:n.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return i(!1)}},r.a.createElement(F.Calendar,{date:t,onChange:function(e){a(e),i(!1)}})))},pt=Object(dt.extendMoment)(C.a),bt=Object(o.a)((function(e){return{timelineContainer:{marginTop:e.spacing(2),width:"100%",display:"flex",flexDirection:"row",justifyContent:"stretch",alignContent:"flex-start"},namesContainer:{paddingTop:20,paddingRight:e.spacing(3),flexGrow:0,borderRight:"1px solid ".concat(e.palette.grey[500])},name:{lineHeight:"".concat(30,"px"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:e.spacing(1),cursor:"pointer"},scheduleContainer:{paddingLeft:e.spacing(3),flexGrow:1},hourTicks:{height:20,width:"100%",display:"flex",flexDirection:"row",justifyContent:"stretch",alignContent:"flex-end",alignItems:"flex-end"},hourTick:{textAlign:"left",width:"".concat(Math.round(100/9),"%"),flexGrow:0,fontSize:12,"&::after":{content:'""',width:1,height:10,backgroundColor:"rgba(0,0,0,0.5)",display:"block"}},scheduleBars:{width:"100%",height:30,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-stretch",flexWrap:"nowrap",marginBottom:e.spacing(1)},scheduleBar:{width:"".concat(Math.round(100/9),"%"),height:"100%",flexGrow:0,backgroundColor:"#CCC",border:"1px solid white",padding:e.spacing(.5),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",minWidth:0,fontSize:12,"& > div":{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"noWrap",textAlign:"center"},"&.leave":{backgroundColor:e.palette.grey[300]},"&.job":{backgroundColor:e.palette.primary.main,color:"white",cursor:"pointer"},"&.empty":{backgroundColor:e.palette.grey[50]}}}})),Et=Object(te.g)((function(e){var t=e.history,a=ve().addErrorMessage,l=bt({}),c=r.a.useState(!1),o=Object(v.a)(c,2),i=o[0],s=o[1],u=r.a.useState(new Date),m=Object(v.a)(u,2),d=m[0],f=m[1],p=r.a.useState([]),b=Object(v.a)(p,2),E=b[0],h=b[1];Object(n.useEffect)((function(){O()}),[d]);var O=function(){var e=Object(De.a)(we.a.mark((function e(){var t,n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=pt.range(pt(d).hours(9).minutes(0).seconds(0),pt(d).hours(18).minutes(0).seconds(0)),e.prev=1,s(!0),e.next=5,it(d);case 5:n=e.sent,h(n.data.data.map((function(e){var a={};return e.TargettedDate.Leave.forEach((function(n){var r=pt.range(n.StartDateTime,n.EndDateTime),l=t.intersect(r);if(l)for(var c=l.start.hours(),o=l.end.hours(),i=c;i<o;i++)a[i.toString()]={type:"leave",label:"Leave",url:"/staff/details/".concat(e.ID)}})),e.TargettedDate.Claims.forEach((function(e){for(var t=!1,n=9;n<18&&!t;n++)a[n.toString()]||(a[n.toString()]={type:"job",poolId:e.MedicalClaim.PoolID,label:"Pool: ".concat(e.MedicalClaim.PoolID,", Claim No: ").concat(e.ClaimNo),url:"/claims/details/".concat(e.ClaimNo),fill:Object(g.get)(Ue,"".concat(e.MedicalClaim.PoolID,".color"),"#000")},t=!0)})),{Name:e.Name,ID:e.ID,activities:a}}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),a("Error loading job distribution data"),console.error(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(et,{title:"Staff Load",isLoading:i,action:r.a.createElement(ft,{date:d,onChange:function(e){return f(e)}})},r.a.createElement("div",{className:l.timelineContainer},r.a.createElement(ue.a,{className:l.namesContainer},E.map((function(e,a){return r.a.createElement(ue.a,{className:l.name,key:a,onClick:function(){return t.push("/staff/details/".concat(e.ID))}},e.Name)}))),r.a.createElement(ue.a,{className:l.scheduleContainer},r.a.createElement(ue.a,{className:l.hourTicks},Array(9).fill(0).map((function(e,t){var a=9+t;return r.a.createElement(ue.a,{className:l.hourTick,key:t},pt().hours(a).format("ha"))}))),E.map((function(e,a){return r.a.createElement(ue.a,{className:l.scheduleBars,key:a},Array(9).fill(0).map((function(a,n){return function(e,a){var n=Object(g.get)(e,"activities['".concat(a,"']"),{}),c=n.type,o=void 0===c?"":c,i=n.label,s=void 0===i?"":i,u=n.poolId,m=void 0===u?"":u,d=n.url,f=void 0===d?"/":d,p=n.fill;switch(o){case"leave":return r.a.createElement(K.a,{title:s},r.a.createElement(ue.a,{className:"".concat(l.scheduleBar," leave")},r.a.createElement("div",null,s)));case"job":return r.a.createElement(K.a,{title:s},r.a.createElement(ue.a,{className:"".concat(l.scheduleBar," ").concat(m," job"),onClick:function(){return t.push(f)},style:{backgroundColor:p}},r.a.createElement("div",null,s)));default:return r.a.createElement(ue.a,{className:"".concat(l.scheduleBar," empty")})}}(e,9+n)})))})))))})),gt=Object(o.a)((function(e){return{widgets:{display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%"},column:{flexGrow:1,display:"flex",flexDirection:"column",width:"50%"}}})),ht=function(){gt({});return r.a.createElement(ue.a,null,r.a.createElement(pe,{title:"Claims",actions:r.a.createElement(G,null)}),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,sm:12,md:6,lg:3},r.a.createElement(lt,null)),r.a.createElement(oe.a,{item:!0,sm:12,md:6,lg:3},r.a.createElement(nt,null)),r.a.createElement(oe.a,{item:!0,sm:12,md:12,lg:6},r.a.createElement(ct,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Staff"}),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,md:12},r.a.createElement(Et,null))))},vt=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:"100%"},tableContainer:{flexGrow:1,maxHeight:"calc(100vh - 300px)",overflow:"auto"},paginationContainer:{flexGrow:0,flexShrink:1,marginTop:e.spacing(2)}}})),Ot=Object(te.g)((function(e){var t=e.history,a=vt({}),l=ve().addErrorMessage,c=Object(n.useState)(!1),o=Object(v.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)([]),m=Object(v.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(0),b=Object(v.a)(p,2),E=b[0],g=b[1],h=Object(n.useState)(1),O=Object(v.a)(h,2),C=O[0],j=O[1];Object(n.useEffect)((function(){y(1)}),[]);var y=function(){var e=Object(De.a)(we.a.mark((function e(){var t,a,n,r=arguments;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=10*(t-1),e.prev=2,s(!0),e.next=6,ot(10,a);case 6:n=e.sent,j(t),g(n.data.total),f(n.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),l("Error loading staff list");case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:"Staff",isLoading:i},r.a.createElement(ue.a,{className:a.root},r.a.createElement(ue.a,{className:a.tableContainer},r.a.createElement(ke.a,{data:d,columns:[{name:"ID",label:"ID"},{name:"Name",label:"Name",options:{customBodyRender:function(e,a){return r.a.createElement(M.a,{color:"primary",onClick:function(){return t.push("/staff/details/".concat(d[a.rowIndex].ID))}},e)}}},{name:"Pool1",label:"Pool1"},{name:"Pool2",label:"Pool2"},{name:"ID",label:"Actions",options:{customBodyRender:function(e){return r.a.createElement(M.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/staff/details/".concat(e))}},"View Details")}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollFullHeight"}})),r.a.createElement(ue.a,{className:a.paginationContainer},r.a.createElement(xe.a,{count:Math.ceil(E/10),page:C,color:"primary",onChange:function(e,t){y(t)}}))))})),Ct=a(729),jt=a(730),yt=a(725),wt=a(728),Dt=a(727),xt=a(250),St=a(342),kt=a(401),Nt=a(251),It=a(253),Rt=a(341),Tt=a(726),Pt=Object(o.a)((function(e){return{form:{display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"stretch"},dateRangePickerContainer:{paddingRight:e.spacing(2),"& .rdrDefinedRangesWrapper":{display:"none"}},otherControlsContainer:{flexGrow:1,paddingLeft:e.spacing(2)}}})),At={ID:null,StaffID:null,StartDateTime:C()().hours(9).minutes(0).seconds(0).toDate(),EndDateTime:C()().hours(18).minutes(0).seconds(0).toDate(),IsAbsent:!1},Mt=function(e){var t=e.staffId,a=e.leaveSchedule,l=void 0===a?null:a,c=e.isOpen,o=void 0!==c&&c,i=e.handleCancel,s=e.handleSubmitComplete,u=Pt({}),m=ve(),d=m.addSuccessMessage,f=m.addErrorMessage,p=Object(n.useState)(Object(w.a)(Object(w.a)({},At),{},{StaffID:t},l||{})),b=Object(v.a)(p,2),E=b[0],h=b[1],O=Object(n.useState)(!1),j=Object(v.a)(O,2),y=j[0],D=j[1];Object(n.useEffect)((function(){o&&h(Object(w.a)(Object(w.a)({},At),{},{StaffID:t},l||{}))}),[o,l,t]);var x=function(e){h(Object(w.a)(Object(w.a)({},E),e))},S=function(){var e=Object(De.a)(we.a.mark((function e(){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D(!0),!E.ID){e.next=7;break}return e.next=5,ut(t,E.ID,E.StartDateTime,E.EndDateTime);case 5:e.next=9;break;case 7:return e.next=9,st(t,E.StartDateTime,E.EndDateTime);case 9:d("Leave created"),s(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),f(Object(g.get)(e.t0,"response.data","Error saving leave. Please try again."));case 17:return e.prev=17,D(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(yt.a,{open:o,fullWidth:!0,maxWidth:"md"},r.a.createElement(wt.a,null,E.ID?"Update Leave":"New Leave"),r.a.createElement(Dt.a,null,r.a.createElement(ue.a,{className:u.form},r.a.createElement(ue.a,{className:u.dateRangePickerContainer},r.a.createElement(F.DateRangePicker,{minDate:new Date,staticRanges:[],inputRanges:[],direction:"horizontal",onChange:function(e){var t=e.selection,a=t.startDate,n=t.endDate,r=C()(E.StartDateTime),l=C()(E.EndDateTime);x({StartDateTime:C()(a).hours(r.hours()).minutes(0).seconds(0).toDate(),EndDateTime:C()(n).hours(l.hours()).minutes(0).seconds(0).toDate()})},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[{startDate:C()(E.StartDateTime).toDate(),endDate:C()(E.EndDateTime).toDate(),key:"selection"}]})),r.a.createElement(U.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ue.a,{className:u.otherControlsContainer},r.a.createElement(xt.a,null,r.a.createElement(St.a,{label:"Full day leave",control:r.a.createElement(kt.a,{checked:E.IsAbsent,name:"IsAbsent",color:"primary",onChange:function(e,t){x({IsAbsent:t})}})})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xt.a,{fullWidth:!0},r.a.createElement(Nt.a,null,"Start Time"),r.a.createElement(It.a,{name:"fromTime",onChange:function(e){x({StartDateTime:C()(E.StartDateTime).hours(parseInt(e.target.value)).minutes(0).seconds(0).toDate()})},value:C()(E.StartDateTime).hours(),disabled:E.IsAbsent},[9,10,11,12,13,14,15,16,17,18].map((function(e){return r.a.createElement(Rt.a,{value:e},C()().hours(e).minutes(0).format("h:mma"))})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xt.a,{fullWidth:!0},r.a.createElement(Nt.a,null,"End Time"),r.a.createElement(It.a,{name:"toTime",onChange:function(e){x({EndDateTime:C()(E.EndDateTime).hours(parseInt(e.target.value)).minutes(0).seconds(0).toDate()})},value:C()(E.EndDateTime).hours(),disabled:E.IsAbsent},[9,10,11,12,13,14,15,16,17,18].map((function(e){return r.a.createElement(Rt.a,{value:e},C()().hours(e).minutes(0).format("h:mma"))}))))))),r.a.createElement(Tt.a,null,r.a.createElement(M.a,{color:"info",onClick:i},"Cancel"),r.a.createElement(M.a,{color:"primary",disabled:y,onClick:S,variant:"contained"},"Submit",y&&r.a.createElement(de.a,{size:10}))))},Bt=Object(te.g)((function(e){e.history;var t=ve().addErrorMessage,a=Object(n.useState)(!1),l=Object(v.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(null),s=Object(v.a)(i,2),u=s[0],m=s[1],f=Object(n.useState)(!1),p=Object(v.a)(f,2),b=p[0],E=p[1],g=Object(n.useState)(null),h=Object(v.a)(g,2),O=h[0],C=h[1],j=Object(te.f)().staffId;Object(n.useEffect)((function(){y()}),[j]);var y=function(){var e=Object(De.a)(we.a.mark((function e(){var a;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,n=j,Ie.a.get("".concat(Re,"/staff/").concat(n));case 4:a=e.sent,m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading staff details");case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}var n}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(De.a)(we.a.mark((function e(a){return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you wish to delete the leave?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,mt(u.ID,a);case 5:y(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t("Error deleting leave. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:u?"".concat(u.Name):"Staff Details",isLoading:c},!!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"ID",value:u.ID}),r.a.createElement(se,{label:"Name",value:u.Name}),r.a.createElement(se,{label:"Pool1",value:r.a.createElement(Ke,{poolID:u.Pool1})}),r.a.createElement(se,{label:"Pool2",value:r.a.createElement(Ke,{poolID:u.Pool2})})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:r.a.createElement(r.a.Fragment,null,"Leave Schedule",r.a.createElement(K.a,{title:"Add Leave"},r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(e){E(!0),C(null)}},r.a.createElement(Ct.a,null)))),subsection:!0}),r.a.createElement(ke.a,{data:u.LeaveSchedules,columns:[{name:"ID",label:"ID"},{name:"StartDateTime",label:"Start Date",options:{customBodyRender:function(e){return Be(e)}}},{name:"EndDateTime",label:"End Date",options:{customBodyRender:function(e){return Be(e)}}},{name:"ID",label:"Actions",options:{customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{title:"Delete leave"},r.a.createElement(d.a,{color:"secondary",onClick:function(){return w(e)}},r.a.createElement(jt.a,null))))}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}}),r.a.createElement(Mt,{isOpen:b,staffId:u.ID,handleCancel:function(){E(!1),C(null)},handleSubmitComplete:function(){E(!1),C(null),y()},leaveSchedule:O})))})),Lt=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/staff/details/:staffId",component:Bt}),r.a.createElement(te.a,{component:Ot}))},Ft=a(200),Gt=function(){var e=ve(),t=e.addErrorMessage,a=e.addSuccessMessage,l=Object(n.useState)(!1),c=Object(v.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(100),u=Object(v.a)(s,2),m=u[0],d=u[1],f=function(){var e=Object(De.a)(we.a.mark((function e(){var n;return we.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,r=m,Ie.a.post("".concat(Re,"/medicalclaim/bulk-insert"),{numToInsert:r});case 4:n=e.sent,a("".concat(n.data.claims.length," claims inserted")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading staff list");case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}var r}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ee,{title:"Utility Functions"},"Simulate bulk claim submissions by using the form below.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(xt.a,null,r.a.createElement(Nt.a,null,"No of Claims"),r.a.createElement(Ft.a,{type:"text",value:m,onChange:function(e){var t=parseInt(e.target.value?e.target.value:1);t=Math.max(Math.min(t,500),1),d(t)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(M.a,{color:"primary",variant:"contained",onClick:f,disabled:o},"Create ",m," Claims",r.a.createElement(de.a,{size:10})))},Wt=Object(o.a)((function(e){return{root:{display:"flex"},pageContainer:{flexGrow:1,height:"100vh",overflow:"auto",padding:"100px ".concat(e.spacing(4),"px ").concat(e.spacing(4),"px ").concat(e.spacing(4),"px")}}}));var zt=function(){var e=Wt({});return r.a.createElement(je.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(i.a,null),r.a.createElement(Ce,null),r.a.createElement(A,null),r.a.createElement(ne,null),r.a.createElement(s.a,{maxWidth:!1,className:e.pageContainer},r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/claims",component:Ve}),r.a.createElement(te.a,{path:"/policies",component:$e}),r.a.createElement(te.a,{path:"/staff",component:Lt}),r.a.createElement(te.a,{path:"/utility",component:Gt}),r.a.createElement(te.a,{component:ht})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null,r.a.createElement(zt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[462,1,2]]]);
//# sourceMappingURL=main.57ae8aa4.chunk.js.map