(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{456:function(e,t,a){e.exports=a(679)},461:function(e,t,a){},679:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),o=(a(461),a(319)),i=a(718),s=a(717),u=a(704),m=a(320),d=a(246),f=a(125),p=a(84),E=a(405),b=a.n(E),g=a(92),v="SET_NAV_IS_OPEN",h=a(11),O=a(25),y=a.n(O),j=new Date,C={nav:{isOpen:!1},toastMessages:[],dateRange:{from:y()().subtract(3,"years").toDate(),to:j}},D=a(26),w="SET_DATE_RANGE",x=a(16),S="ADD_TOAST_MESSAGE",N="CLEAR_TOAST_MESSAGES",k=Object(n.createContext)(C),R=k.Provider,I=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){var a=e;return a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(D.a)(Object(D.a)({},e),{},{toastMessages:[].concat(Object(x.a)(e.toastMessages),[{message:t.message,messageType:t.messageType}])});case N:return Object(D.a)(Object(D.a)({},e),{},{toastMessages:[]});default:return e}}(a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(D.a)(Object(D.a)({},e),{},{dateRange:Object(D.a)(Object(D.a)({},e.dateRange),{},{from:t.from,to:t.to})});default:return e}}(a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(D.a)(Object(D.a)({},e),{},{nav:Object(D.a)(Object(D.a)({},e.nav),{},{isOpen:t.isOpen})});default:return e}}(a,t),t),t)}),C),c=Object(h.a)(a,2),l=c[0],o=c[1];return r.a.createElement(R,{value:{state:l,dispatch:o}},t)},T=function(){var e=Object(n.useContext)(k),t=e.state,a=e.dispatch;return{navIsOpen:Object(g.get)(t,"nav.isOpen",!1),setNavIsOpen:function(e){a({type:v,isOpen:e})},toggleNavOpen:function(){a({type:v,isOpen:!t.nav.isOpen})}}},P=Object(o.a)((function(e){return{root:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},rootNavOpen:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{marginLeft:e.spacing(5),flexGrow:1}}})),M=function(){var e=P({}),t=T(),a=t.navIsOpen,n=t.toggleNavOpen;return r.a.createElement(u.a,{position:"absolute",className:"".concat(e.root," ").concat(a&&e.rootNavOpen)},r.a.createElement(m.a,null,r.a.createElement(d.a,{onClick:n,edge:"start"},r.a.createElement(f.a,{htmlColor:"#ffffff"},r.a.createElement(b.a,null))),r.a.createElement(p.a,{variant:"h6",className:e.title},"Intelligent Claims Management System")))},A=a(327),B=a(247),L=function(){var e=Object(n.useContext)(k),t=e.state,a=e.dispatch;return{dateRangeFrom:Object(g.get)(t,"dateRange.from"),dateRangeTo:Object(g.get)(t,"dateRange.to"),setDateRange:function(e,t){a({type:w,from:e,to:t})}}},F=(a(321),a(322),a(197)),Y=function(){var e=L(),t=e.dateRangeFrom,a=e.dateRangeTo,n=e.setDateRange,c=r.a.useRef(null),l=r.a.useState(!1),o=Object(h.a)(l,2),i=o[0],s=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"contained",color:"info",ref:c,onClick:function(){return s(!i)}},y()(t).format("LL")," - ",y()(a).format("LL")),r.a.createElement(B.a,{open:i,anchorEl:c.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return s(!1)}},r.a.createElement(F.DateRangePicker,{onChange:function(e){var t=e.selection;n(t.startDate,t.endDate)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,direction:"horizontal",months:2,ranges:[{startDate:t,endDate:a,key:"selection"}]})))},G=a(9),W=window.CHATBOT_URL||"http://127.0.0.1:5001",_=a(56),H=a(707),z=a(682),U=a(328),K=a(684),V=a(708),J=a(329),Q=a(706),$=a(709),X=a(710),q=a(711),Z=a(712),ee=a(713),te=a(83),ae=Object(o.a)((function(e){return{closeIconContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",height:63},paper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"},paperClosed:Object(G.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}})),ne=Object(te.g)((function(e){var t=e.history,a=ae(),n=T(),c=n.navIsOpen,l=n.setNavIsOpen;return r.a.createElement(_.a,{variant:"permanent",open:c,classes:{paper:"".concat(a.paper," ").concat(c?"":a.paperClosed)}},r.a.createElement("div",{className:a.closeIconContainer},r.a.createElement(d.a,{onClick:function(){return l(!1)}},r.a.createElement(Q.a,null))),r.a.createElement(H.a,null),r.a.createElement(z.a,null,r.a.createElement(U.a,{title:"Dashboard"},r.a.createElement(K.a,{button:!0,onClick:function(){return t.push("/")}},r.a.createElement(V.a,null,r.a.createElement($.a,null)),r.a.createElement(J.a,null,"Dashboard"))),r.a.createElement(U.a,{title:"Claims"},r.a.createElement(K.a,{button:!0,onClick:function(){return t.push("/claims")}},r.a.createElement(V.a,null,r.a.createElement(X.a,null)),r.a.createElement(J.a,null,"Claims"))),r.a.createElement(U.a,{title:"Staff"},r.a.createElement(K.a,{button:!0,onClick:function(){return t.push("/staff")}},r.a.createElement(V.a,null,r.a.createElement(q.a,null)),r.a.createElement(J.a,null,"Staff"))),r.a.createElement(U.a,{title:"Utility"},r.a.createElement(K.a,{button:!0,onClick:function(){return t.push("/utility")}},r.a.createElement(V.a,null,r.a.createElement(Z.a,null)),r.a.createElement(J.a,null,"Utility")))),r.a.createElement(H.a,null),r.a.createElement(z.a,null,r.a.createElement(U.a,{title:"Chatbot"},r.a.createElement(K.a,{button:!0,onClick:function(){return window.open(W)}},r.a.createElement(V.a,null,r.a.createElement(ee.a,null)),r.a.createElement(J.a,null,"Chatbot")))))})),re={0:{label:"New",color:"#000"},1:{label:"Pending",color:"#1976d2"},2:{label:"Approved",color:"#4caf50"},3:{label:"Settled",color:"#388e3c"},4:{label:"Rejected",color:"#f44336"},5:{label:"Cancelled",color:"#ff9800"}},ce=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),le=function(e){var t=e.status,a=re[t],n=a.label,c=void 0===n?"Unknown":n,l=a.color,o=ce({color:void 0===l?"#000":l});return r.a.createElement("span",{className:o.root},c)},oe=a(714),ie=Object(o.a)((function(e){return{root:{padding:e.spacing(1)},label:{},value:{fontWeight:"bold"}}})),se=function(e){var t=e.label,a=e.value,n=ie({});return r.a.createElement(oe.a,{item:!0,md:3,className:n.root},r.a.createElement(p.a,{variant:"caption",className:n.label},t),r.a.createElement(p.a,{className:n.value},a))},ue=a(245),me=function(){return r.a.createElement(ue.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},r.a.createElement(ue.a,{marginTop:10,marginBottom:10},"No data found. Try adjusting the search parameters."))},de=a(715),fe=Object(o.a)((function(e){return{divider:{marginBottom:e.spacing(3)},title:{flexGrow:1}}})),pe=function(e){var t=e.title,a=e.actions,n=void 0===a?null:a,c=fe({});return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{disableGutters:!0},r.a.createElement(p.a,{className:c.title,variant:"h6"},t),r.a.createElement(ue.a,null,n)),r.a.createElement(H.a,{className:c.divider}))},Ee=Object(o.a)((function(e){return{root:{height:"100%",width:"100%",display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"stretch",justifyContent:"stretch"},loadingContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},pageContents:{flexGrow:1}}})),be=function(e){var t=e.title,a=e.isLoading,n=void 0!==a&&a,c=e.actions,l=void 0===c?null:c,o=e.children,i=Ee({});return r.a.createElement(ue.a,{className:i.root},r.a.createElement(pe,{title:t,actions:l}),r.a.createElement(ue.a,{className:i.pageContents},n?r.a.createElement(ue.a,{className:i.loadingContainer},r.a.createElement(de.a,null)):o))},ge=a(716),ve=a(686),he=function(){var e=Object(n.useContext)(k),t=e.state,a=e.dispatch,r=t.toastMessages,c=function(e,t){a({type:S,message:e,messageType:t})};return{toastMessages:r,addToastMessage:c,addSuccessMessage:function(e){c(e,"success")},addErrorMessage:function(e){c(e,"error")},addInfoMessage:function(e){c(e,"info")},clearToastMessages:function(){a({type:N})}}},Oe=Object(o.a)((function(e){return{error:{backgroundColor:e.palette.error.main},info:{backgroundColor:e.palette.info.main},success:{backgroundColor:e.palette.success.main}}}));function ye(){var e=Oe({}),t=he(),a=t.toastMessages,n=t.clearToastMessages,c=r.a.useState(!1),l=Object(h.a)(c,2),o=l[0],i=l[1];r.a.useEffect((function(){a.length>0&&i(!0)}),[a]);var s=function(){n()};return r.a.createElement(r.a.Fragment,null,a.map((function(t,a){var n=t.message,c=t.messageType;return r.a.createElement(ge.a,{open:o,autoHideDuration:6e3,onClose:s,key:a},r.a.createElement(ve.a,{className:"".concat(e[c]),message:n}))})))}var je=a(51),Ce=a(22),De=a.n(Ce),we=a(29),xe=a(726),Se=a(53),Ne=a.n(Se),ke=a(47),Re=a.n(ke),Ie=window.API_HOST||"http://127.0.0.1:8082";function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Re.a.get("".concat(Ie,"/medicalclaim?limit=").concat(a,"&offset=").concat(n,"&datefrom=").concat(y()(e).format("YYYY-MM-DD"),"&dateto=").concat(y()(t).format("YYYY-MM-DD")))}function Pe(e){return Re.a.get("".concat(Ie,"/medicalclaim/").concat(e))}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Re.a.get("".concat(Ie,"/medicalclaim/statusdistribution?datefrom=").concat(y()(e).format("YYYY-MM-DD"),"&dateto=").concat(y()(t).format("YYYY-MM-DD")))}var Ae=function(e){return y()(e).format("LLL")},Be=function(e){return"$"+e.toLocaleString()},Le=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},tableContainer:{flexGrow:1,maxHeight:"calc(100vh - 300px)",overflow:"auto"},paginationContainer:{flexGrow:0,flexShrink:1,marginTop:e.spacing(2)}}})),Fe=Object(te.g)((function(e){var t=e.history,a=Le({}),c=he().addErrorMessage,l=L(),o=l.dateRangeFrom,i=l.dateRangeTo,s=Object(n.useState)(!1),u=Object(h.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)([]),p=Object(h.a)(f,2),E=p[0],b=p[1],g=Object(n.useState)(0),v=Object(h.a)(g,2),O=v[0],y=v[1],j=Object(n.useState)(1),C=Object(h.a)(j,2),D=C[0],w=C[1];Object(n.useEffect)((function(){x(1)}),[o,i]);var x=function(){var e=Object(we.a)(De.a.mark((function e(){var t,a,n,r=arguments;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=10*(t-1),e.prev=2,d(!0),e.next=6,Te(o,i,10,a);case 6:n=e.sent,w(t),y(n.data.total),b(n.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),c("Error loading claims");case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Claims",isLoading:m,actions:r.a.createElement(Y,null)},r.a.createElement(ue.a,{className:a.root},r.a.createElement(ue.a,{className:a.tableContainer},r.a.createElement(Ne.a,{data:E,columns:[{name:"ClaimNo",label:"Claim No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/claims/details/".concat(e))}},e)},sort:!1}},{name:"PolicyNo",label:"Policy No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/policies/details/".concat(e))}},e)},sort:!1}},{name:"Status",label:"Status",options:{customBodyRender:function(e){return r.a.createElement(le,{status:e})},sort:!1}},{name:"DateOcc",label:"Submission Date",options:{customBodyRender:function(e){return Ae(e)},sort:!1}},{name:"RefundAmount",label:"Refund Amt",options:{customBodyRender:function(e){return Be(e)},sort:!1}},{name:"ClaimNo",label:"Actions",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/claims/details/".concat(e))}},"View Details")}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollFullHeight"}})),r.a.createElement(ue.a,{className:a.paginationContainer},r.a.createElement(xe.a,{count:Math.ceil(O/10),page:D,color:"primary",onChange:function(e,t){x(t)}}))))})),Ye=Object(te.g)((function(e){var t=e.history,a=he().addErrorMessage,c=Object(n.useState)(!1),l=Object(h.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)(null),u=Object(h.a)(s,2),m=u[0],d=u[1],f=Object(te.f)().claimNo;Object(n.useEffect)((function(){E()}),[f]);var E=function(){var e=Object(we.a)(De.a.mark((function e(){var t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Pe(f);case 4:t=e.sent,d(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Error loading claim");case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Claim No: ".concat(f),isLoading:o},!!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Policy No",value:r.a.createElement(A.a,{onClick:function(){return t.push("/policies/details/".concat(m.PolicyNo))}},m.PolicyNo)}),r.a.createElement(se,{label:"Date Occ",value:Ae(m.DateOcc)}),r.a.createElement(se,{label:"Status",value:r.a.createElement(le,{status:m.Status})}),r.a.createElement(se,{label:"Claim Type",value:m.ClaimType}),r.a.createElement(se,{label:"Rider",value:m.Rider}),r.a.createElement(se,{label:"Refund Amount",value:Be(m.RefundAmount)}),r.a.createElement(se,{label:"Auto Claim",value:m.AutoClaim?"Y":"N"}),r.a.createElement(se,{label:"CoPay",value:Be(m.CopayAmount)})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"h6"},"Claim Items"),r.a.createElement(H.a,{style:{marginTop:10,marginBottom:30}}),r.a.createElement(Ne.a,{data:m.ClaimItems,columns:[{name:"ID",label:"ID"},{name:"ItemDesc",label:"Description"},{name:"BenefitCode",label:"Benefit Code"},{name:"Qty",label:"Qty"},{name:"Amount",label:"Amount",options:{customBodyRender:function(e){return Be(e)}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}})))})),Ge=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/claims/details/:claimNo",component:Ye}),r.a.createElement(te.a,{component:Fe}))};function We(e){return Re.a.get("".concat(Ie,"/healthpolicy/").concat(e))}var _e=Object(te.g)((function(e){e.history;var t=he().addErrorMessage,a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(null),s=Object(h.a)(i,2),u=s[0],m=s[1],d=Object(te.f)().policyNo;Object(n.useEffect)((function(){f()}),[d]);var f=function(){var e=Object(we.a)(De.a.mark((function e(){var a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,We(d);case 4:a=e.sent,m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading claim");case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Policy No: ".concat(d),isLoading:l},!!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Commencement Date",value:Ae(u.CommencementDate)}),r.a.createElement(se,{label:"Effective Date",value:Ae(u.EffectiveDate)}),r.a.createElement(se,{label:"Expiry Date",value:Ae(u.ExpiryDate)}),r.a.createElement(se,{label:"Insured Name",value:u.InsuredName}),r.a.createElement(se,{label:"Premium Amount",value:Be(u.PremiumAmount)}),r.a.createElement(se,{label:"Rider Premium Amount",value:Be(u.RiderPremiumAmount)}),r.a.createElement(se,{label:"Product Code",value:u.ProductPlan.ProductCode}),r.a.createElement(se,{label:"Description",value:u.ProductPlan.Description})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"h6"},"Product Benefits"),r.a.createElement(H.a,{style:{marginTop:10,marginBottom:30}}),r.a.createElement(ue.a,null,r.a.createElement(Ne.a,{data:u.ProductPlan.PolicyBenefits,columns:[{name:"BenefitCode",label:"Benefit Code"},{name:"Description",label:"Description"},{name:"BenefitLimit",label:"Benefit Limit",options:{customBodyRender:function(e){return Be(e)}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}}))))})),He=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/policies/details/:policyNo",component:_e}))},ze=a(3),Ue=a(97),Ke=Object(o.a)((function(e){return{root:{padding:e.spacing(2),flexGrow:1,margin:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},title:{paddingBottom:e.spacing(2),color:e.palette.grey[600],fontWeight:"normal",fontSize:"1rem"},contentsContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"}}})),Ve=function(e){var t=e.children,a=e.isLoading,n=void 0!==a&&a,c=e.className,l=void 0===c?"":c,o=e.title,i=void 0===o?"":o,s=Object(ze.a)(e,["children","isLoading","className","title"]),u=Ke({});return r.a.createElement(Ue.a,Object.assign({},s,{className:"".concat(l," ").concat(u.root)}),!!i&&r.a.createElement(p.a,{variant:"h6",className:u.title},i),r.a.createElement("div",{className:u.contentsContainer},n?r.a.createElement(de.a,null):t))},Je=a(35),Qe=Object(o.a)((function(){return{pieContainer:{width:"100%",height:"100%",display:"flex",alignContent:"center",justifyContent:"center"}}})),$e=function(){var e=Qe({}),t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(h.a)(o,2),s=i[0],u=i[1],m=he().addErrorMessage,d=L(),f=d.dateRangeFrom,p=d.dateRangeTo;Object(n.useEffect)((function(){E()}),[f,p]);var E=function(){var e=Object(we.a)(De.a.mark((function e(){var t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,Me(f,p,5,0);case 4:t=e.sent,l(t.data.map((function(e){var t=re[e.Status];return Object(D.a)({name:t?t.label:"Unknown",color:t?t.color:"#000"},e)}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),m("Error loading recent claims");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ve,{title:"Claim Status Distribution",isLoading:s},r.a.createElement("div",{className:e.pieContainer},c.length>0?r.a.createElement(Je.h,{aspect:1,height:"100%"},r.a.createElement(Je.g,null,r.a.createElement(Je.f,{data:c,dataKey:"Count",isAnimationActive:!1,label:!0},c.map((function(e,t){return r.a.createElement(Je.d,{key:t,fill:e.color})}))),r.a.createElement(Je.i,null),r.a.createElement(Je.e,null))):r.a.createElement(me,null)))},Xe=Object(te.g)((function(e){var t=e.history,a=he().addErrorMessage,c=L(),l=c.dateRangeFrom,o=c.dateRangeTo,i=Object(n.useState)(!1),s=Object(h.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)([]),f=Object(h.a)(d,2),p=f[0],E=f[1];Object(n.useEffect)((function(){b()}),[l,o]);var b=function(){var e=Object(we.a)(De.a.mark((function e(){var t;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Te(l,o,5,0);case 4:t=e.sent,E(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Error loading recent claims");case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ve,{title:"Recent Claims",isLoading:u},r.a.createElement("div",{style:{width:"100%"}},p.length>0?r.a.createElement(Ne.a,{data:p,columns:[{name:"ClaimNo",label:"Claim No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/claims/details/".concat(e))}},e)}}},{name:"PolicyNo",label:"Policy No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/policies/details/".concat(e))}},e)}}},{name:"Status",label:"Status",options:{customBodyRender:function(e){return r.a.createElement(le,{status:e})}}},{name:"DateOcc",label:"Submission Date",options:{customBodyRender:function(e){return Ae(e)}}},{name:"RefundAmount",label:"Refund Amt",options:{customBodyRender:function(e){return Be(e)}}}],options:{elevation:0,selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1}}):r.a.createElement(me,null)))})),qe=Object(o.a)((function(){return{barChartContainer:{width:"100%",height:"400px",display:"flex",alignContent:"center",justifyContent:"center"}}})),Ze=function(){var e=he().addErrorMessage,t=qe({}),a=r.a.useState(!1),c=Object(h.a)(a,2),l=c[0],o=c[1],i=r.a.useState([]),s=Object(h.a)(i,2),u=s[0],m=s[1],d=L(),f=d.dateRangeFrom,p=d.dateRangeTo;Object(n.useEffect)((function(){E()}),[f,p]);var E=function(){var t=Object(we.a)(De.a.mark((function t(){var a;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o(!0),t.next=4,new Promise((function(e,t){return e({data:Array(10).fill(1).map((function(e,t){return{Name:"Staff ".concat(t+1),Pool1:Math.round(20*Math.random()),Pool2:Math.round(20*Math.random())}}))})}));case 4:a=t.sent,m(a.data),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e("Error loading job distribution data"),console.error(t.t0);case 12:return t.prev=12,o(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,8,12,15]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(Ve,{title:"Staff Load",isLoading:l},r.a.createElement("div",{className:t.barChartContainer},r.a.createElement(Je.h,{width:"100%",height:"100%"},r.a.createElement(Je.b,{data:u,layout:"vertical"},r.a.createElement(Je.c,{strokeDasharray:"3 3"}),r.a.createElement(Je.j,{type:"number"}),r.a.createElement(Je.k,{dataKey:"Name",type:"category"}),r.a.createElement(Je.e,null),r.a.createElement(Je.i,null),r.a.createElement(Je.a,{dataKey:"Pool1",nameKey:"Name",isAnimationActive:!1,stackId:"a",fill:"#4caf50"}),r.a.createElement(Je.a,{dataKey:"Pool2",nameKey:"Name",isAnimationActive:!1,stackId:"a",fill:"#1976d2"})))))},et=Object(o.a)((function(e){return{widgets:{display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%"},column:{flexGrow:1,display:"flex",flexDirection:"column",width:"50%"}}})),tt=function(){et({});return r.a.createElement(ue.a,null,r.a.createElement(pe,{title:"Claims",actions:r.a.createElement(Y,null)}),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,sm:12,md:5,lg:3},r.a.createElement($e,null)),r.a.createElement(oe.a,{item:!0,sm:12,md:7,lg:9},r.a.createElement(Xe,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Staff"}),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,md:12},r.a.createElement(Ze,null))))};function at(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Re.a.get("".concat(Ie,"/staff?limit=").concat(e,"&offset=").concat(t))}function nt(e,t,a){return Re.a.post("".concat(Ie,"/staff/").concat(e,"/leave"),{StartDateTime:t,EndDateTime:a})}function rt(e,t,a,n){return Re.a.put("".concat(Ie,"/staff/").concat(e,"/leave/").concat(t),{StartDateTime:a,EndDateTime:n})}function ct(e,t){return Re.a.delete("".concat(Ie,"/staff/").concat(e,"/leave/").concat(t))}var lt=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:"100%"},tableContainer:{flexGrow:1,maxHeight:"calc(100vh - 300px)",overflow:"auto"},paginationContainer:{flexGrow:0,flexShrink:1,marginTop:e.spacing(2)}}})),ot=Object(te.g)((function(e){var t=e.history,a=lt({}),c=he().addErrorMessage,l=Object(n.useState)(!1),o=Object(h.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)([]),m=Object(h.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(0),E=Object(h.a)(p,2),b=E[0],g=E[1],v=Object(n.useState)(1),O=Object(h.a)(v,2),y=O[0],j=O[1];Object(n.useEffect)((function(){C(1)}),[]);var C=function(){var e=Object(we.a)(De.a.mark((function e(){var t,a,n,r=arguments;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=10*(t-1),e.prev=2,s(!0),e.next=6,at(10,a);case 6:n=e.sent,j(t),g(n.data.total),f(n.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),c("Error loading staff list");case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Staff",isLoading:i},r.a.createElement(ue.a,{className:a.root},r.a.createElement(ue.a,{className:a.tableContainer},r.a.createElement(Ne.a,{data:d,columns:[{name:"ID",label:"ID"},{name:"Name",label:"Name",options:{customBodyRender:function(e,a){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/staff/details/".concat(d[a.rowIndex].ID))}},e)}}},{name:"Pool1",label:"Pool1"},{name:"Pool2",label:"Pool2"},{name:"ID",label:"Actions",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/staff/details/".concat(e))}},"View Details")}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollFullHeight"}})),r.a.createElement(ue.a,{className:a.paginationContainer},r.a.createElement(xe.a,{count:Math.ceil(b/10),page:y,color:"primary",onChange:function(e,t){C(t)}}))))})),it=a(723),st=a(724),ut=a(725),mt=a(719),dt=a(722),ft=a(721),pt=a(248),Et=a(342),bt=a(401),gt=a(249),vt=a(251),ht=a(341),Ot=a(720),yt=Object(o.a)((function(e){return{form:{display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"stretch"},dateRangePickerContainer:{paddingRight:e.spacing(2),"& .rdrDefinedRangesWrapper":{display:"none"}},otherControlsContainer:{flexGrow:1,paddingLeft:e.spacing(2)}}})),jt={ID:null,StaffID:null,StartDateTime:y()().hours(9).minutes(0).seconds(0).toDate(),EndDateTime:y()().hours(18).minutes(0).seconds(0).toDate(),IsAbsent:!1},Ct=function(e){var t=e.staffId,a=e.leaveSchedule,c=void 0===a?null:a,l=e.isOpen,o=void 0!==l&&l,i=e.handleCancel,s=e.handleSubmitComplete,u=yt({}),m=he(),d=m.addSuccessMessage,f=m.addErrorMessage,p=Object(n.useState)(Object(D.a)(Object(D.a)({},jt),{},{StaffID:t},c||{})),E=Object(h.a)(p,2),b=E[0],v=E[1],O=Object(n.useState)(!1),j=Object(h.a)(O,2),C=j[0],w=j[1];Object(n.useEffect)((function(){o&&v(Object(D.a)(Object(D.a)({},jt),{},{StaffID:t},c||{}))}),[o,c,t]);var x=function(e){v(Object(D.a)(Object(D.a)({},b),e))},S=function(){var e=Object(we.a)(De.a.mark((function e(){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w(!0),!b.ID){e.next=7;break}return e.next=5,rt(t,b.ID,b.StartDateTime,b.EndDateTime);case 5:e.next=9;break;case 7:return e.next=9,nt(t,b.StartDateTime,b.EndDateTime);case 9:d("Leave created"),s(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),f(Object(g.get)(e.t0,"response.data","Error saving leave. Please try again."));case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(mt.a,{open:o,fullWidth:!0,maxWidth:"md"},r.a.createElement(dt.a,null,b.ID?"Update Leave":"New Leave"),r.a.createElement(ft.a,null,r.a.createElement(ue.a,{className:u.form},r.a.createElement(ue.a,{className:u.dateRangePickerContainer},r.a.createElement(F.DateRangePicker,{minDate:new Date,staticRanges:[],inputRanges:[],direction:"horizontal",onChange:function(e){var t=e.selection,a=t.startDate,n=t.endDate,r=y()(b.StartDateTime),c=y()(b.EndDateTime);x({StartDateTime:y()(a).hours(r.hours()).minutes(0).seconds(0).toDate(),EndDateTime:y()(n).hours(c.hours()).minutes(0).seconds(0).toDate()})},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[{startDate:y()(b.StartDateTime).toDate(),endDate:y()(b.EndDateTime).toDate(),key:"selection"}]})),r.a.createElement(H.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ue.a,{className:u.otherControlsContainer},r.a.createElement(pt.a,null,r.a.createElement(Et.a,{label:"Full day leave",control:r.a.createElement(bt.a,{checked:b.IsAbsent,name:"IsAbsent",color:"primary",onChange:function(e,t){x({IsAbsent:t})}})})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pt.a,{fullWidth:!0},r.a.createElement(gt.a,null,"Start Time"),r.a.createElement(vt.a,{name:"fromTime",onChange:function(e){x({StartDateTime:y()(b.StartDateTime).hours(parseInt(e.target.value)).minutes(0).seconds(0).toDate()})},value:y()(b.StartDateTime).hours(),disabled:b.IsAbsent},[9,10,11,12,13,14,15,16,17,18].map((function(e){return r.a.createElement(ht.a,{value:e},y()().hours(e).minutes(0).format("h:mma"))})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pt.a,{fullWidth:!0},r.a.createElement(gt.a,null,"End Time"),r.a.createElement(vt.a,{name:"toTime",onChange:function(e){x({EndDateTime:y()(b.EndDateTime).hours(parseInt(e.target.value)).minutes(0).seconds(0).toDate()})},value:y()(b.EndDateTime).hours(),disabled:b.IsAbsent},[9,10,11,12,13,14,15,16,17,18].map((function(e){return r.a.createElement(ht.a,{value:e},y()().hours(e).minutes(0).format("h:mma"))}))))))),r.a.createElement(Ot.a,null,r.a.createElement(A.a,{color:"info",onClick:i},"Cancel"),r.a.createElement(A.a,{color:"primary",disabled:C,onClick:S,variant:"contained"},"Submit",C&&r.a.createElement(de.a,{size:10}))))},Dt=Object(te.g)((function(e){e.history;var t=he().addErrorMessage,a=Object(n.useState)(!1),c=Object(h.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)(null),s=Object(h.a)(i,2),u=s[0],m=s[1],f=Object(n.useState)(!1),E=Object(h.a)(f,2),b=E[0],g=E[1],v=Object(n.useState)(null),O=Object(h.a)(v,2),y=O[0],j=O[1],C=Object(te.f)().staffId;Object(n.useEffect)((function(){D()}),[C]);var D=function(){var e=Object(we.a)(De.a.mark((function e(){var a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,n=C,Re.a.get("".concat(Ie,"/staff/").concat(n));case 4:a=e.sent,m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading staff details");case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}var n}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(we.a)(De.a.mark((function e(a){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you wish to delete the leave?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ct(u.ID,a);case 5:D(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t("Error deleting leave. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:u?"".concat(u.Name):"Staff Details",isLoading:l},!!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"ID",value:u.ID}),r.a.createElement(se,{label:"Name",value:u.Name}),r.a.createElement(se,{label:"Pool1",value:u.Pool1}),r.a.createElement(se,{label:"Pool2",value:u.Pool2})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"h6"},"Leave Schedule",r.a.createElement(U.a,{title:"Add Leave"},r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(e){g(!0),j(null)}},r.a.createElement(it.a,null)))),r.a.createElement(H.a,{style:{marginTop:10,marginBottom:30}}),r.a.createElement(Ne.a,{data:u.LeaveSchedules,columns:[{name:"ID",label:"ID"},{name:"StartDateTime",label:"Start Date",options:{customBodyRender:function(e){return Ae(e)}}},{name:"EndDateTime",label:"End Date",options:{customBodyRender:function(e){return Ae(e)}}},{name:"ID",label:"Actions",options:{customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{title:"Delete leave"},r.a.createElement(d.a,{color:"secondary",onClick:function(){return w(e)}},r.a.createElement(st.a,null))),r.a.createElement(U.a,{title:"Edit leave"},r.a.createElement(d.a,{color:"primary",onClick:function(){return e=u.LeaveSchedules[t.rowIndex],g(!0),void j(e);var e}},r.a.createElement(ut.a,null))))}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}}),r.a.createElement(Ct,{isOpen:b,staffId:u.ID,handleCancel:function(){g(!1),j(null)},handleSubmitComplete:function(){g(!1),j(null),D()},leaveSchedule:y})))})),wt=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/staff/details/:staffId",component:Dt}),r.a.createElement(te.a,{component:ot}))},xt=a(200),St=function(){var e=Object(n.useState)(100),t=Object(h.a)(e,2),a=t[0],c=t[1];return r.a.createElement(be,{title:"Utility Functions"},"Simulate bulk claim submissions by using the form below.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pt.a,null,r.a.createElement(gt.a,null,"No of Claims"),r.a.createElement(xt.a,{type:"text",value:a,onChange:function(e){var t=parseInt(e.target.value?e.target.value:1);t=Math.max(Math.min(t,500),1),c(t)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){}},"Create ",a," Claims"))},Nt=Object(o.a)((function(e){return{root:{display:"flex"},pageContainer:{flexGrow:1,height:"100vh",overflow:"auto",padding:"100px ".concat(e.spacing(4),"px ").concat(e.spacing(4),"px ").concat(e.spacing(4),"px")}}}));var kt=function(){var e=Nt({});return r.a.createElement(je.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(i.a,null),r.a.createElement(ye,null),r.a.createElement(M,null),r.a.createElement(ne,null),r.a.createElement(s.a,{maxWidth:!1,className:e.pageContainer},r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/claims",component:Ge}),r.a.createElement(te.a,{path:"/policies",component:He}),r.a.createElement(te.a,{path:"/staff",component:wt}),r.a.createElement(te.a,{path:"/utility",component:St}),r.a.createElement(te.a,{component:tt})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null,r.a.createElement(kt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[456,1,2]]]);
//# sourceMappingURL=main.9d0c9f5f.chunk.js.map