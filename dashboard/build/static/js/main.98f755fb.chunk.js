(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{463:function(e,t,a){e.exports=a(686)},468:function(e,t,a){},686:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(468),a(323)),i=a(725),s=a(724),u=a(711),m=a(324),d=a(249),f=a(126),p=a(85),E=a(407),b=a.n(E),g=a(31),h="SET_NAV_IS_OPEN",v=a(9),C=a(19),O=a.n(C),j=new Date,y={nav:{isOpen:!1},toastMessages:[],dateRange:{from:O()().subtract(2,"weeks").toDate(),to:j}},w=a(28),D="SET_DATE_RANGE",x=a(16),S="ADD_TOAST_MESSAGE",k="CLEAR_TOAST_MESSAGES",N=Object(n.createContext)(y),I=N.Provider,R=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){var a=e;return a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(w.a)(Object(w.a)({},e),{},{toastMessages:[].concat(Object(x.a)(e.toastMessages),[{message:t.message,messageType:t.messageType}])});case k:return Object(w.a)(Object(w.a)({},e),{},{toastMessages:[]});default:return e}}(a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(w.a)(Object(w.a)({},e),{},{dateRange:Object(w.a)(Object(w.a)({},e.dateRange),{},{from:t.from,to:t.to})});default:return e}}(a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(w.a)(Object(w.a)({},e),{},{nav:Object(w.a)(Object(w.a)({},e.nav),{},{isOpen:t.isOpen})});default:return e}}(a,t),t),t)}),y),l=Object(v.a)(a,2),c=l[0],o=l[1];return r.a.createElement(I,{value:{state:c,dispatch:o}},t)},T=function(){var e=Object(n.useContext)(N),t=e.state,a=e.dispatch;return{navIsOpen:Object(g.get)(t,"nav.isOpen",!1),setNavIsOpen:function(e){a({type:h,isOpen:e})},toggleNavOpen:function(){a({type:h,isOpen:!t.nav.isOpen})}}},P=Object(o.a)((function(e){return{root:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},rootNavOpen:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},title:{marginLeft:e.spacing(5),flexGrow:1}}})),M=function(){var e=P({}),t=T(),a=t.navIsOpen,n=t.toggleNavOpen;return r.a.createElement(u.a,{position:"absolute",className:"".concat(e.root," ").concat(a&&e.rootNavOpen)},r.a.createElement(m.a,null,r.a.createElement(d.a,{onClick:n,edge:"start"},r.a.createElement(f.a,{htmlColor:"#ffffff"},r.a.createElement(b.a,null))),r.a.createElement(p.a,{variant:"h6",className:e.title},"Intelligent Claims System")))},A=a(329),B=a(250),L=function(){var e=Object(n.useContext)(N),t=e.state,a=e.dispatch;return{dateRangeFrom:Object(g.get)(t,"dateRange.from"),dateRangeTo:Object(g.get)(t,"dateRange.to"),setDateRange:function(e,t){a({type:D,from:e,to:t})}}},F=(a(223),a(224),a(120)),G=function(){var e=L(),t=e.dateRangeFrom,a=e.dateRangeTo,n=e.setDateRange,l=r.a.useRef(null),c=r.a.useState(!1),o=Object(v.a)(c,2),i=o[0],s=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"contained",color:"info",ref:l,onClick:function(){return s(!i)}},O()(t).format("LL")," - ",O()(a).format("LL")),r.a.createElement(B.a,{open:i,anchorEl:l.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return s(!1)}},r.a.createElement(F.DateRangePicker,{onChange:function(e){var t=e.selection;n(t.startDate,t.endDate)},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,direction:"horizontal",months:2,ranges:[{startDate:t,endDate:a,key:"selection"}]})))},W=a(10),z=window.CHATBOT_URL||"http://127.0.0.1:5001",H=a(57),_=a(714),U=a(689),K=a(330),Y=a(691),V=a(715),J=a(331),Q=a(713),$=a(716),q=a(717),X=a(718),Z=a(719),ee=a(720),te=a(84),ae=Object(o.a)((function(e){return{closeIconContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",height:63},paper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"},paperClosed:Object(W.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}})),ne=Object(te.g)((function(e){var t=e.history,a=ae(),n=T(),l=n.navIsOpen,c=n.setNavIsOpen;return r.a.createElement(H.a,{variant:"permanent",open:l,classes:{paper:"".concat(a.paper," ").concat(l?"":a.paperClosed)}},r.a.createElement("div",{className:a.closeIconContainer},r.a.createElement(d.a,{onClick:function(){return c(!1)}},r.a.createElement(Q.a,null))),r.a.createElement(_.a,null),r.a.createElement(U.a,null,r.a.createElement(K.a,{title:"Dashboard"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/")}},r.a.createElement(V.a,null,r.a.createElement($.a,null)),r.a.createElement(J.a,null,"Dashboard"))),r.a.createElement(K.a,{title:"Claims"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/claims")}},r.a.createElement(V.a,null,r.a.createElement(q.a,null)),r.a.createElement(J.a,null,"Claims"))),r.a.createElement(K.a,{title:"Staff"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/staff")}},r.a.createElement(V.a,null,r.a.createElement(X.a,null)),r.a.createElement(J.a,null,"Staff"))),r.a.createElement(K.a,{title:"Utility"},r.a.createElement(Y.a,{button:!0,onClick:function(){return t.push("/utility")}},r.a.createElement(V.a,null,r.a.createElement(Z.a,null)),r.a.createElement(J.a,null,"Utility")))),r.a.createElement(_.a,null),r.a.createElement(U.a,null,r.a.createElement(K.a,{title:"Chatbot"},r.a.createElement(Y.a,{button:!0,onClick:function(){return window.open(z)}},r.a.createElement(V.a,null,r.a.createElement(ee.a,null)),r.a.createElement(J.a,null,"Chatbot")))))})),re={0:{label:"New",color:"#000"},1:{label:"Pending",color:"#4791db"},2:{label:"Approved",color:"#81c784"},3:{label:"Settled",color:"#64b5f6"},4:{label:"Rejected",color:"#e57373"},5:{label:"Cancelled",color:"#ffb74d"}},le=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),ce=function(e){var t=e.status,a=re[t],n=a.label,l=void 0===n?"Unknown":n,c=a.color,o=le({color:void 0===c?"#000":c});return r.a.createElement("span",{className:o.root},l)},oe=a(721),ie=Object(o.a)((function(e){return{root:{padding:e.spacing(1)},label:{},value:{fontWeight:"bold"}}})),se=function(e){var t=e.label,a=e.value,n=ie({});return r.a.createElement(oe.a,{item:!0,md:3,className:n.root},r.a.createElement(p.a,{variant:"caption",className:n.label},t),r.a.createElement(p.a,{className:n.value},a))},ue=a(248),me=function(){return r.a.createElement(ue.a,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},r.a.createElement(ue.a,{marginTop:10,marginBottom:10},"No data found. Try adjusting the search parameters."))},de=a(722),fe=Object(o.a)((function(e){return{divider:{marginBottom:e.spacing(3)},title:{flexGrow:1},bigTitle:{fontSize:"1.5rem"}}})),pe=function(e){var t=e.title,a=e.actions,n=void 0===a?null:a,l=e.subsection,c=void 0!==l&&l,o=fe({});return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{disableGutters:!0},r.a.createElement(p.a,{className:"".concat(o.title," ").concat(!c&&o.bigTitle),variant:"h6"},t),r.a.createElement(ue.a,null,n)),r.a.createElement(_.a,{className:o.divider}))},Ee=Object(o.a)((function(e){return{root:{height:"100%",width:"100%",display:"flex",flexDirection:"column",flexWrap:"nowrap",alignItems:"stretch",justifyContent:"stretch"},loadingContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},pageContents:{flexGrow:1}}})),be=function(e){var t=e.title,a=e.isLoading,n=void 0!==a&&a,l=e.actions,c=void 0===l?null:l,o=e.children,i=Ee({});return r.a.createElement(ue.a,{className:i.root},r.a.createElement(pe,{title:t,actions:c}),r.a.createElement(ue.a,{className:i.pageContents},n?r.a.createElement(ue.a,{className:i.loadingContainer},r.a.createElement(de.a,null)):o))},ge=a(723),he=a(693),ve=function(){var e=Object(n.useContext)(N),t=e.state,a=e.dispatch,r=t.toastMessages,l=function(e,t){a({type:S,message:e,messageType:t})};return{toastMessages:r,addToastMessage:l,addSuccessMessage:function(e){l(e,"success")},addErrorMessage:function(e){l(e,"error")},addInfoMessage:function(e){l(e,"info")},clearToastMessages:function(){a({type:k})}}},Ce=Object(o.a)((function(e){return{error:{backgroundColor:e.palette.error.main},info:{backgroundColor:e.palette.info.main},success:{backgroundColor:e.palette.success.main}}}));function Oe(){var e=Ce({}),t=ve(),a=t.toastMessages,n=t.clearToastMessages,l=r.a.useState(!1),c=Object(v.a)(l,2),o=c[0],i=c[1];r.a.useEffect((function(){a.length>0&&i(!0)}),[a]);var s=function(){n()};return r.a.createElement(r.a.Fragment,null,a.map((function(t,a){var n=t.message,l=t.messageType;return r.a.createElement(ge.a,{open:o,autoHideDuration:6e3,onClose:s,key:a},r.a.createElement(he.a,{className:"".concat(e[l]),message:n}))})))}var je=a(48),ye=a.n(je),we=function(e){return O()(e).format("LLL")},De=function(e){return"$"+e.toLocaleString()},xe={false:{label:"Needs human intervention",color:"#9a0036"},true:{label:"Machine classified",color:"#388e3c"},null:{label:"Pending classification",color:"#a8a8a8"}},Se=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),ke=function(e){var t=e.autoClaimStatus,a=xe[String(t)],n=a.label,l=void 0===n?"Unknown":n,c=a.color,o=Se({color:void 0===c?"#000":c});return r.a.createElement("span",{className:o.root},l)},Ne=Object(te.g)((function(e){var t=e.data,a=e.history;return r.a.createElement(ye.a,{data:t,columns:[{name:"ClaimNo",label:"Claim No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return a.push("/claims/details/".concat(e))}},e)},sort:!1}},{name:"PolicyNo",label:"Policy No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return a.push("/policies/details/".concat(e))}},e)},sort:!1}},{name:"Status",label:"Status",options:{customBodyRender:function(e){return r.a.createElement(ce,{status:e})},sort:!1}},{name:"AutoClaim",label:"Auto Claim",options:{customBodyRender:function(e){return r.a.createElement(ke,{autoClaimStatus:e})}}},{name:"ClassificationReason",label:"Classification Reason"},{name:"CreatdDate",label:"Submission Date",options:{customBodyRender:function(e){return we(e)},sort:!1}},{name:"TotalExp",label:"Total Exp",options:{customBodyRender:function(e){return De(e)},sort:!1}},{name:"ClaimNo",label:"Actions",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){return a.push("/claims/details/".concat(e))}},"View Details")}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollFullHeight"}})})),Ie=a(43),Re=a(17),Te=a.n(Re),Pe=a(27),Me=a(734),Ae=a(36),Be=a.n(Ae),Le=window.API_HOST||"http://"+window.location.hostname+":8081",Fe=window.DISTRIBUTER_API_HOST||"http://"+window.location.hostname+":5003";function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Be.a.get("".concat(Le,"/medicalclaim"),{params:{datefrom:O()(e).hours(0).minutes(0).seconds(0).toDate(),dateto:O()(t).hours(23).minutes(59).seconds(59).toDate(),limit:a,offset:n}})}function We(e){return Be.a.get("".concat(Le,"/medicalclaim/").concat(e))}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Be.a.get("".concat(Le,"/medicalclaim/autoclaimdistribution"),{params:{datefrom:O()(e).hours(0).minutes(0).seconds(0).toDate(),dateto:O()(t).hours(23).minutes(59).seconds(59).toDate()}})}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return Be.a.get("".concat(Le,"/medicalclaim/statusdistribution"),{params:{datefrom:O()(e).hours(0).minutes(0).seconds(0).toDate(),dateto:O()(t).hours(23).minutes(59).seconds(59).toDate()}})}var _e=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},tableContainer:{flexGrow:1,maxHeight:"calc(100vh - 300px)",overflow:"auto"},paginationContainer:{flexGrow:0,flexShrink:1,marginTop:e.spacing(2)}}})),Ue=Object(te.g)((function(e){e.history;var t=_e({}),a=ve().addErrorMessage,l=L(),c=l.dateRangeFrom,o=l.dateRangeTo,i=Object(n.useState)(!1),s=Object(v.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)([]),f=Object(v.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(0),g=Object(v.a)(b,2),h=g[0],C=g[1],O=Object(n.useState)(1),j=Object(v.a)(O,2),y=j[0],w=j[1];Object(n.useEffect)((function(){D(1)}),[c,o]);var D=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t,n,r,l=arguments;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:1,n=10*(t-1),e.prev=2,m(!0),e.next=6,Ge(c,o,10,n);case 6:r=e.sent,w(t),C(r.data.total),E(r.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a("Error loading claims");case 15:return e.prev=15,m(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Claims",isLoading:u,actions:r.a.createElement(G,null)},r.a.createElement(ue.a,{className:t.root},r.a.createElement(ue.a,{className:t.tableContainer},r.a.createElement(Ne,{data:p})),r.a.createElement(ue.a,{className:t.paginationContainer},r.a.createElement(Me.a,{count:Math.ceil(h/10),page:y,color:"primary",onChange:function(e,t){D(t)}}))))})),Ke={1:{color:"#115293"},2:{color:"#9a0036"},3:{color:"#d32f2f"},4:{color:"#f57c00"}},Ye=Object(o.a)({root:{display:"inline-block",color:function(e){return e.color}}}),Ve=function(e){var t=e.poolID,a=Object(g.get)(Ke,"".concat(t,".color"),"#000"),n=Ye({color:a});return r.a.createElement("span",{className:n.root},t)},Je=a(730),Qe=Object(te.g)((function(e){var t=e.history,a=ve().addErrorMessage,l=Object(n.useState)(!1),c=Object(v.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(null),u=Object(v.a)(s,2),m=u[0],f=u[1],p=Object(te.f)().claimNo;Object(n.useEffect)((function(){E()}),[p]);var E=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,We(p);case 4:t=e.sent,f(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Error loading claim");case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Claim No: ".concat(p),isLoading:o},!!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Policy No",value:r.a.createElement(r.a.Fragment,null,m.PolicyNo,r.a.createElement(d.a,{onClick:function(){return t.push("/policies/details/".concat(m.PolicyNo))}},r.a.createElement(Je.a,null)))}),r.a.createElement(se,{label:"Date Occ",value:we(m.DateOcc)}),r.a.createElement(se,{label:"Status",value:r.a.createElement(ce,{status:m.Status})}),r.a.createElement(se,{label:"Bill Document",value:m.AttachUrl?r.a.createElement(ue.a,{onClick:function(){return window.open(m.AttachUrl)}},"View Document"):"-"}),r.a.createElement(se,{label:"Rider",value:m.Rider}),r.a.createElement(se,{label:"Total Exp",value:De(m.TotalExp)}),r.a.createElement(se,{label:"Auto Claim",value:r.a.createElement(ke,{autoClaimStatus:m.AutoClaim})}),r.a.createElement(se,{label:"Classification Reason",value:m.ClassificationReason}),r.a.createElement(se,{label:"Remark",value:m.ClaimRemark}),r.a.createElement(se,{label:"CoPay",value:De(m.CopayAmount)}),r.a.createElement(se,{label:"Pool ID",value:m.PoolID?r.a.createElement(Ve,{poolID:m.PoolID}):"-"}),r.a.createElement(se,{label:"Specialist",value:m.Specialist?m.Specialist:"-"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Medical Panel",subsection:!0}),r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Medical Panel Reg No",value:Object(g.get)(m,"MedicalPanel.RegistrationNo","-")}),r.a.createElement(se,{label:"Medical Panel Name",value:Object(g.get)(m,"MedicalPanel.SpecialistName","-")}),r.a.createElement(se,{label:"Medical Panel Specialty",value:Object(g.get)(m,"MedicalPanel.Specialty","-")}),r.a.createElement(se,{label:"Medical Panel Blacklisted?",value:Object(g.get)(m,"MedicalPanel.BlacklistReasonID",null)?"Y":"N"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Claim Items",subsection:!0}),r.a.createElement(ye.a,{data:m.ClaimItems,columns:[{name:"ID",label:"ID"},{name:"ItemDesc",label:"Description"},{name:"BenefitCode",label:"Benefit Code"},{name:"Qty",label:"Qty"},{name:"Amount",label:"Amount",options:{customBodyRender:function(e){return De(e)}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}})))})),$e=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/claims/details/:claimNo",component:Qe}),r.a.createElement(te.a,{component:Ue}))};function qe(e){return Be.a.get("".concat(Le,"/healthpolicy/").concat(e))}var Xe=Object(te.g)((function(e){e.history;var t=ve().addErrorMessage,a=Object(n.useState)(!1),l=Object(v.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(null),s=Object(v.a)(i,2),u=s[0],m=s[1],d=Object(te.f)().policyNo;Object(n.useEffect)((function(){f()}),[d]);var f=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,qe(d);case 4:a=e.sent,m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading policy details");case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Policy No: ".concat(d),isLoading:c},!!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"Insured Name",value:u.InsuredName}),r.a.createElement(se,{label:"Insured ID",value:u.InsuredID}),r.a.createElement(se,{label:"Commencement Date",value:we(u.CommencementDate)}),r.a.createElement(se,{label:"Effective Date",value:we(u.EffectiveDate)}),r.a.createElement(se,{label:"Expiry Date",value:we(u.ExpiryDate)}),r.a.createElement(se,{label:"Premium Amount",value:De(u.PremiumAmount)}),r.a.createElement(se,{label:"Outstanding Premium",value:De(u.OutstandingPremium)}),r.a.createElement(se,{label:"Rider Premium Amount",value:De(u.RiderPremiumAmount)}),r.a.createElement(se,{label:"Outstanding Rider Premium",value:De(u.RiderOutstandingPremium)}),r.a.createElement(se,{label:"Product Code",value:u.ProductPlan.ProductCode}),r.a.createElement(se,{label:"Description",value:u.ProductPlan.Description})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Claim History"}),r.a.createElement(Ne,{data:u.MedicalClaims}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Product Benefits"}),r.a.createElement(ue.a,null,r.a.createElement(ye.a,{data:u.ProductPlan.PolicyBenefits,columns:[{name:"BenefitCode",label:"Benefit Code"},{name:"Description",label:"Description"},{name:"BenefitLimit",label:"Benefit Limit",options:{customBodyRender:function(e){return De(e)}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}}))))})),Ze=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/policies/details/:policyNo",component:Xe}))},et=a(3),tt=a(97),at=Object(o.a)((function(e){return{root:{padding:e.spacing(2),flexGrow:1,margin:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch"},header:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"stretch",paddingBottom:e.spacing(2)},title:{color:e.palette.grey[600],fontWeight:"normal",fontSize:"1rem",flexGrow:1},actions:{},contentsContainer:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"}}})),nt=function(e){var t=e.children,a=e.isLoading,n=void 0!==a&&a,l=e.className,c=void 0===l?"":l,o=e.title,i=e.action,s=void 0===i?null:i,u=Object(et.a)(e,["children","isLoading","className","title","action"]),m=at({});return r.a.createElement(tt.a,Object.assign({},u,{className:"".concat(c," ").concat(m.root)}),r.a.createElement("div",{className:m.header},r.a.createElement(p.a,{variant:"h6",className:m.title},o),!!s&&r.a.createElement("div",{className:m.action},s)),r.a.createElement("div",{className:m.contentsContainer},n?r.a.createElement(de.a,null):t))},rt=a(39),lt=Object(o.a)((function(){return{pieContainer:{width:"100%",height:"100%",display:"flex",alignContent:"center",justifyContent:"center"}}})),ct=function(){var e=lt({}),t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),i=Object(v.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(v.a)(m,2),f=d[0],p=d[1],E=ve().addErrorMessage,b=L(),h=b.dateRangeFrom,C=b.dateRangeTo;Object(n.useEffect)((function(){O()}),[h,C]);var O=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t,a,n;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,He(h,C,5,0);case 4:t=e.sent,a=t.data.reduce((function(e,t){if(!e[t.Status]){var a=re[t.Status];e[t.Status]={label:a?a.label:"Unknown",color:a?a.color:"#000",classificationTotals:{false:0,true:0,null:0},total:0}}var n=t.Count;return e[t.Status].classificationTotals[String(t.AutoClaim)]=n,e[t.Status].total+=n,e}),{}),c(Object.values(a)),n=Object.values(a).reduce((function(e,t){return["false","true","null"].forEach((function(a){var n=t.classificationTotals[a];n>0&&e.push({statusLabel:t.label,label:"".concat(t.label," (").concat(Object(g.get)(xe,"".concat(a,".label"),"unknown"),")"),color:Object(g.get)(xe,"".concat(a,".color"),"#000"),total:n})})),e}),[]),u(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),E("Error loading recent claims");case 15:return e.prev=15,p(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(nt,{title:"Claim Status Distribution",isLoading:f},r.a.createElement("div",{className:e.pieContainer},l.length>0?r.a.createElement(rt.e,{aspect:1,height:"100%"},r.a.createElement(rt.d,null,r.a.createElement(rt.c,{data:l,nameKey:"label",dataKey:"total",isAnimationActive:!1,outerRadius:"65%",strokeWidth:0},l.map((function(e,t){return r.a.createElement(rt.a,{key:t,fill:e.color})}))),r.a.createElement(rt.c,{data:s,nameKey:"label",dataKey:"total",isAnimationActive:!1,innerRadius:"70%",outerRadius:"80%"},s.map((function(e,t){return r.a.createElement(rt.a,{key:"claimStatus-".concat(t),fill:e.color})}))),r.a.createElement(rt.f,null),r.a.createElement(rt.b,{payload:l.map((function(e){return{type:"square",value:e.label,color:e.color}}))}))):r.a.createElement(me,null)))},ot=Object(o.a)((function(){return{pieContainer:{width:"100%",height:"100%",display:"flex",alignContent:"center",justifyContent:"center"}}})),it=function(){var e=ot({}),t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),i=Object(v.a)(o,2),s=i[0],u=i[1],m=ve().addErrorMessage,d=L(),f=d.dateRangeFrom,p=d.dateRangeTo;Object(n.useEffect)((function(){E()}),[f,p]);var E=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,ze(f,p,5,0);case 4:t=e.sent,c(t.data.map((function(e){var t=xe[String(e.AutoClaim)];return{label:t?t.label:"Unknown",color:t?t.color:"#000",total:e.Count}}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),m("Error loading recent claims");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(nt,{title:"Machine vs Human Classification",isLoading:s},r.a.createElement("div",{className:e.pieContainer},l.length>0?r.a.createElement(rt.e,{aspect:1,height:"100%"},r.a.createElement(rt.d,null,r.a.createElement(rt.c,{data:l,nameKey:"label",dataKey:"total",isAnimationActive:!1,strokeWidth:0},l.map((function(e,t){return r.a.createElement(rt.a,{key:t,fill:e.color})}))),r.a.createElement(rt.f,null),r.a.createElement(rt.b,null))):r.a.createElement(me,null)))},st=Object(te.g)((function(e){var t=e.history,a=ve().addErrorMessage,l=L(),c=l.dateRangeFrom,o=l.dateRangeTo,i=Object(n.useState)(!1),s=Object(v.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)([]),f=Object(v.a)(d,2),p=f[0],E=f[1];Object(n.useEffect)((function(){b()}),[c,o]);var b=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Ge(c,o,5,0);case 4:t=e.sent,E(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Error loading recent claims");case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(nt,{title:"Recent Claims",isLoading:u},r.a.createElement("div",{style:{width:"100%"}},p.length>0?r.a.createElement(ye.a,{data:p,columns:[{name:"ClaimNo",label:"Claim No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/claims/details/".concat(e))}},e)}}},{name:"PolicyNo",label:"Policy No",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/policies/details/".concat(e))}},e)}}},{name:"Status",label:"Status",options:{customBodyRender:function(e){return r.a.createElement(ce,{status:e})}}},{name:"AutoClaim",label:"Auto Claim",options:{customBodyRender:function(e){return r.a.createElement(ke,{autoClaimStatus:e})}}},{name:"ClassificationReason",label:"Classification Reason"},{name:"CreatedDate",label:"Submission Date",options:{customBodyRender:function(e){return we(e)}}}],options:{elevation:0,selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1}}):r.a.createElement(me,null)))}));function ut(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Be.a.get("".concat(Le,"/staff?limit=").concat(e,"&offset=").concat(t))}function mt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return Be.a.get("".concat(Le,"/staff/availability?date=").concat(O()(e).format("YYYY-MM-DD"),"&limit=10"))}function dt(e,t,a){return Be.a.post("".concat(Le,"/staff/").concat(e,"/leave"),{StartDateTime:t,EndDateTime:a})}function ft(e,t,a,n){return Be.a.put("".concat(Le,"/staff/").concat(e,"/leave/").concat(t),{StartDateTime:a,EndDateTime:n})}function pt(e,t){return Be.a.delete("".concat(Le,"/staff/").concat(e,"/leave/").concat(t))}var Et=a(424),bt=function(e){var t=e.date,a=e.onChange,n=r.a.useRef(null),l=r.a.useState(!1),c=Object(v.a)(l,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"contained",color:"info",ref:n,onClick:function(){return i(!o)}},O()(t).format("LL"),"}"),r.a.createElement(B.a,{open:o,anchorEl:n.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return i(!1)}},r.a.createElement(F.Calendar,{date:t,onChange:function(e){a(e),i(!1)}})))},gt=Object(Et.extendMoment)(O.a),ht=Object(o.a)((function(e){return{timelineContainer:{marginTop:e.spacing(2),width:"100%",display:"flex",flexDirection:"row",justifyContent:"stretch",alignContent:"flex-start"},namesContainer:{paddingTop:20,paddingRight:e.spacing(3),flexGrow:0,borderRight:"1px solid ".concat(e.palette.grey[500])},name:{lineHeight:"".concat(30,"px"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginBottom:e.spacing(1),cursor:"pointer"},scheduleContainer:{paddingLeft:e.spacing(3),flexGrow:1},hourTicks:{height:20,width:"100%",display:"flex",flexDirection:"row",justifyContent:"stretch",alignContent:"flex-end",alignItems:"flex-end"},hourTick:{textAlign:"left",width:"".concat(Math.round(100/9),"%"),flexGrow:0,fontSize:12,"&::after":{content:'""',width:1,height:10,backgroundColor:"rgba(0,0,0,0.5)",display:"block"}},scheduleBars:{width:"100%",height:30,display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"flex-stretch",flexWrap:"nowrap",marginBottom:e.spacing(1)},scheduleBar:{width:"".concat(Math.round(100/9),"%"),height:"100%",flexGrow:0,backgroundColor:"#CCC",border:"1px solid white",padding:e.spacing(.5),paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"flex",justifyContent:"center",alignItems:"center",minWidth:0,fontSize:12,"& > div":{width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"noWrap",textAlign:"center"},"&.leave":{backgroundColor:e.palette.grey[300]},"&.job":{backgroundColor:e.palette.primary.main,color:"white",cursor:"pointer"},"&.empty":{backgroundColor:e.palette.grey[50]}}}})),vt=Object(te.g)((function(e){var t=e.history,a=ve(),l=a.addErrorMessage,c=a.addSuccessMessage,o=ht({}),i=r.a.useState(!1),s=Object(v.a)(i,2),u=s[0],m=s[1],d=r.a.useState(new Date),f=Object(v.a)(d,2),p=f[0],E=f[1],b=r.a.useState([]),h=Object(v.a)(b,2),C=h[0],O=h[1];Object(n.useEffect)((function(){j()}),[p]);var j=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t,a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=gt.range(gt(p).hours(9).minutes(0).seconds(0),gt(p).hours(18).minutes(0).seconds(0)),e.prev=1,m(!0),e.next=5,mt(p);case 5:a=e.sent,O(a.data.data.map((function(e){var a={};return e.TargettedDate.Leave.forEach((function(n){var r=gt.range(n.StartDateTime,n.EndDateTime),l=t.intersect(r);if(l)for(var c=l.start.hours(),o=l.end.hours(),i=c;i<o;i++)a[i.toString()]={type:"leave",label:"Leave",url:"/staff/details/".concat(e.ID)}})),e.TargettedDate.Claims.forEach((function(e){for(var t=!1,n=9;n<18&&!t;n++)a[n.toString()]||(a[n.toString()]={type:"job",poolId:e.MedicalClaim.PoolID,label:"Pool: ".concat(e.MedicalClaim.PoolID,", Claim No: ").concat(e.ClaimNo),url:"/claims/details/".concat(e.ClaimNo),fill:Object(g.get)(Ke,"".concat(e.MedicalClaim.PoolID,".color"),"#000")},t=!0)})),{Name:e.Name,ID:e.ID,activities:a}}))),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l("Error loading job distribution data"),console.error(e.t0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(Pe.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,Be.a.get("".concat(Fe,"/distribute"));case 4:return e.next=6,j();case 6:c("Claims distributed"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),l("Error occurred while distributing claims. Please try again later.");case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(nt,{title:"Staff Load",isLoading:u,action:r.a.createElement(ue.a,{display:"flex",flexDirection:"row"},r.a.createElement(ue.a,{marginRight:"8px"},r.a.createElement(A.a,{variant:"contained",onClick:y},"Distribute New Claims")),r.a.createElement(bt,{date:p,onChange:function(e){return E(e)}}))},r.a.createElement("div",{className:o.timelineContainer},r.a.createElement(ue.a,{className:o.namesContainer},C.map((function(e,a){return r.a.createElement(ue.a,{className:o.name,key:a,onClick:function(){return t.push("/staff/details/".concat(e.ID))}},e.Name)}))),r.a.createElement(ue.a,{className:o.scheduleContainer},r.a.createElement(ue.a,{className:o.hourTicks},Array(9).fill(0).map((function(e,t){var a=9+t;return r.a.createElement(ue.a,{className:o.hourTick,key:t},gt().hours(a).format("ha"))}))),C.map((function(e,a){return r.a.createElement(ue.a,{className:o.scheduleBars,key:a},Array(9).fill(0).map((function(a,n){return function(e,a){var n=Object(g.get)(e,"activities['".concat(a,"']"),{}),l=n.type,c=void 0===l?"":l,i=n.label,s=void 0===i?"":i,u=n.poolId,m=void 0===u?"":u,d=n.url,f=void 0===d?"/":d,p=n.fill;switch(c){case"leave":return r.a.createElement(K.a,{title:s},r.a.createElement(ue.a,{className:"".concat(o.scheduleBar," leave")},r.a.createElement("div",null,s)));case"job":return r.a.createElement(K.a,{title:s},r.a.createElement(ue.a,{className:"".concat(o.scheduleBar," ").concat(m," job"),onClick:function(){return t.push(f)},style:{backgroundColor:p}},r.a.createElement("div",null,s)));default:return r.a.createElement(ue.a,{className:"".concat(o.scheduleBar," empty")})}}(e,9+n)})))})))))})),Ct=a(731),Ot=a(259),jt=a.n(Ot),yt=Object(o.a)((function(e){return{widgets:{display:"flex",flexDirection:"row",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%"},column:{flexGrow:1,display:"flex",flexDirection:"column",width:"50%"}}})),wt=function(){var e=L(),t=e.setDateRange,a=e.dateRangeFrom,n=e.dateRangeTo;yt({});return r.a.createElement(ue.a,null,r.a.createElement(pe,{title:"Claims",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{title:"Refresh data"},r.a.createElement(d.a,{onClick:function(){t(jt()(a).toDate(),jt()(n).toDate())}},r.a.createElement(Ct.a,null))),r.a.createElement(G,null))}),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,sm:12,md:6,lg:3},r.a.createElement(it,null)),r.a.createElement(oe.a,{item:!0,sm:12,md:6,lg:3},r.a.createElement(ct,null)),r.a.createElement(oe.a,{item:!0,sm:12,md:12,lg:6},r.a.createElement(st,null))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:"Staff"}),r.a.createElement(oe.a,{container:!0},r.a.createElement(oe.a,{item:!0,md:12},r.a.createElement(vt,null))))},Dt=Object(o.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:"100%"},tableContainer:{flexGrow:1,maxHeight:"calc(100vh - 300px)",overflow:"auto"},paginationContainer:{flexGrow:0,flexShrink:1,marginTop:e.spacing(2)}}})),xt=Object(te.g)((function(e){var t=e.history,a=Dt({}),l=ve().addErrorMessage,c=Object(n.useState)(!1),o=Object(v.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)([]),m=Object(v.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(0),E=Object(v.a)(p,2),b=E[0],g=E[1],h=Object(n.useState)(1),C=Object(v.a)(h,2),O=C[0],j=C[1];Object(n.useEffect)((function(){y(1)}),[]);var y=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var t,a,n,r=arguments;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=10*(t-1),e.prev=2,s(!0),e.next=6,ut(10,a);case 6:n=e.sent,j(t),g(n.data.total),f(n.data.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),l("Error loading staff list");case 15:return e.prev=15,s(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Staff",isLoading:i},r.a.createElement(ue.a,{className:a.root},r.a.createElement(ue.a,{className:a.tableContainer},r.a.createElement(ye.a,{data:d,columns:[{name:"ID",label:"ID"},{name:"Name",label:"Name",options:{customBodyRender:function(e,a){return r.a.createElement(A.a,{color:"primary",onClick:function(){return t.push("/staff/details/".concat(d[a.rowIndex].ID))}},e)}}},{name:"Pool1",label:"Pool1"},{name:"Pool2",label:"Pool2"},{name:"ID",label:"Actions",options:{customBodyRender:function(e){return r.a.createElement(A.a,{color:"primary",variant:"contained",onClick:function(){return t.push("/staff/details/".concat(e))}},"View Details")}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollFullHeight"}})),r.a.createElement(ue.a,{className:a.paginationContainer},r.a.createElement(Me.a,{count:Math.ceil(b/10),page:O,color:"primary",onChange:function(e,t){y(t)}}))))})),St=a(732),kt=a(733),Nt=a(726),It=a(729),Rt=a(728),Tt=a(251),Pt=a(344),Mt=a(403),At=a(252),Bt=a(254),Lt=a(343),Ft=a(727),Gt=Object(o.a)((function(e){return{form:{display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"stretch"},dateRangePickerContainer:{paddingRight:e.spacing(2),"& .rdrDefinedRangesWrapper":{display:"none"}},otherControlsContainer:{flexGrow:1,paddingLeft:e.spacing(2)}}})),Wt={ID:null,StaffID:null,StartDateTime:O()().hours(9).minutes(0).seconds(0).toDate(),EndDateTime:O()().hours(18).minutes(0).seconds(0).toDate(),IsAbsent:!1},zt=function(e){var t=e.staffId,a=e.leaveSchedule,l=void 0===a?null:a,c=e.isOpen,o=void 0!==c&&c,i=e.handleCancel,s=e.handleSubmitComplete,u=Gt({}),m=ve(),d=m.addSuccessMessage,f=m.addErrorMessage,p=Object(n.useState)(Object(w.a)(Object(w.a)({},Wt),{},{StaffID:t},l||{})),E=Object(v.a)(p,2),b=E[0],h=E[1],C=Object(n.useState)(!1),j=Object(v.a)(C,2),y=j[0],D=j[1];Object(n.useEffect)((function(){o&&h(Object(w.a)(Object(w.a)({},Wt),{},{StaffID:t},l||{}))}),[o,l,t]);var x=function(e){h(Object(w.a)(Object(w.a)({},b),e))},S=function(){var e=Object(Pe.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,D(!0),!b.ID){e.next=7;break}return e.next=5,ft(t,b.ID,b.StartDateTime,b.EndDateTime);case 5:e.next=9;break;case 7:return e.next=9,dt(t,b.StartDateTime,b.EndDateTime);case 9:d("Leave created"),s(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),f(Object(g.get)(e.t0,"response.data","Error saving leave. Please try again."));case 17:return e.prev=17,D(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Nt.a,{open:o,fullWidth:!0,maxWidth:"md"},r.a.createElement(It.a,null,b.ID?"Update Leave":"New Leave"),r.a.createElement(Rt.a,null,r.a.createElement(ue.a,{className:u.form},r.a.createElement(ue.a,{className:u.dateRangePickerContainer},r.a.createElement(F.DateRangePicker,{minDate:new Date,staticRanges:[],inputRanges:[],direction:"horizontal",onChange:function(e){var t=e.selection,a=t.startDate,n=t.endDate,r=O()(b.StartDateTime),l=O()(b.EndDateTime);x({StartDateTime:O()(a).hours(r.hours()).minutes(0).seconds(0).toDate(),EndDateTime:O()(n).hours(l.hours()).minutes(0).seconds(0).toDate()})},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[{startDate:O()(b.StartDateTime).toDate(),endDate:O()(b.EndDateTime).toDate(),key:"selection"}]})),r.a.createElement(_.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ue.a,{className:u.otherControlsContainer},r.a.createElement(Tt.a,null,r.a.createElement(Pt.a,{label:"Full day leave",control:r.a.createElement(Mt.a,{checked:b.IsAbsent,name:"IsAbsent",color:"primary",onChange:function(e,t){x({IsAbsent:t})}})})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Tt.a,{fullWidth:!0},r.a.createElement(At.a,null,"Start Time"),r.a.createElement(Bt.a,{name:"fromTime",onChange:function(e){x({StartDateTime:O()(b.StartDateTime).hours(parseInt(e.target.value)).minutes(0).seconds(0).toDate()})},value:O()(b.StartDateTime).hours(),disabled:b.IsAbsent},[9,10,11,12,13,14,15,16,17,18].map((function(e){return r.a.createElement(Lt.a,{value:e},O()().hours(e).minutes(0).format("h:mma"))})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Tt.a,{fullWidth:!0},r.a.createElement(At.a,null,"End Time"),r.a.createElement(Bt.a,{name:"toTime",onChange:function(e){x({EndDateTime:O()(b.EndDateTime).hours(parseInt(e.target.value)).minutes(0).seconds(0).toDate()})},value:O()(b.EndDateTime).hours(),disabled:b.IsAbsent},[9,10,11,12,13,14,15,16,17,18].map((function(e){return r.a.createElement(Lt.a,{value:e},O()().hours(e).minutes(0).format("h:mma"))}))))))),r.a.createElement(Ft.a,null,r.a.createElement(A.a,{color:"info",onClick:i},"Cancel"),r.a.createElement(A.a,{color:"primary",disabled:y,onClick:S,variant:"contained"},"Submit",y&&r.a.createElement(de.a,{size:10}))))},Ht=Object(te.g)((function(e){e.history;var t=ve().addErrorMessage,a=Object(n.useState)(!1),l=Object(v.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(null),s=Object(v.a)(i,2),u=s[0],m=s[1],f=Object(n.useState)(!1),p=Object(v.a)(f,2),E=p[0],b=p[1],g=Object(n.useState)(null),h=Object(v.a)(g,2),C=h[0],O=h[1],j=Object(te.f)().staffId;Object(n.useEffect)((function(){y()}),[j]);var y=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var a;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,n=j,Be.a.get("".concat(Le,"/staff/").concat(n));case 4:a=e.sent,m(a.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading staff details");case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}var n}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(Pe.a)(Te.a.mark((function e(a){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you wish to delete the leave?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pt(u.ID,a);case 5:y(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t("Error deleting leave. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:u?"".concat(u.Name):"Staff Details",isLoading:c},!!u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{container:!0},r.a.createElement(se,{label:"ID",value:u.ID}),r.a.createElement(se,{label:"Name",value:u.Name}),r.a.createElement(se,{label:"Pool1",value:r.a.createElement(Ve,{poolID:u.Pool1})}),r.a.createElement(se,{label:"Pool2",value:r.a.createElement(Ve,{poolID:u.Pool2})})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(pe,{title:r.a.createElement(r.a.Fragment,null,"Leave Schedule",r.a.createElement(K.a,{title:"Add Leave"},r.a.createElement(d.a,{color:"primary",variant:"contained",onClick:function(e){b(!0),O(null)}},r.a.createElement(St.a,null)))),subsection:!0}),r.a.createElement(ye.a,{data:u.LeaveSchedules,columns:[{name:"ID",label:"ID"},{name:"StartDateTime",label:"Start Date",options:{customBodyRender:function(e){return we(e)}}},{name:"EndDateTime",label:"End Date",options:{customBodyRender:function(e){return we(e)}}},{name:"ID",label:"Actions",options:{customBodyRender:function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{title:"Delete leave"},r.a.createElement(d.a,{color:"secondary",onClick:function(){return w(e)}},r.a.createElement(kt.a,null))))}}}],options:{selectableRows:"none",filter:!1,search:!1,print:!1,download:!1,viewColumns:!1,pagination:!1,responsive:"scrollMaxHeight"}}),r.a.createElement(zt,{isOpen:E,staffId:u.ID,handleCancel:function(){b(!1),O(null)},handleSubmitComplete:function(){b(!1),O(null),y()},leaveSchedule:C})))})),_t=function(){return r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/staff/details/:staffId",component:Ht}),r.a.createElement(te.a,{component:xt}))},Ut=a(200),Kt=function(){var e=ve(),t=e.addErrorMessage,a=e.addSuccessMessage,l=Object(n.useState)(!1),c=Object(v.a)(l,2),o=c[0],i=c[1],s=Object(n.useState)(100),u=Object(v.a)(s,2),m=u[0],d=u[1],f=function(){var e=Object(Pe.a)(Te.a.mark((function e(){var n;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,r=m,Be.a.post("".concat(Le,"/medicalclaim/bulk-insert"),{numToInsert:r});case 4:n=e.sent,a("".concat(n.data.claims.length," claims inserted")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t("Error loading staff list");case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}var r}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(be,{title:"Utility Functions"},"Simulate bulk claim submissions by using the form below.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Tt.a,null,r.a.createElement(At.a,null,"No of Claims"),r.a.createElement(Ut.a,{type:"text",value:m,onChange:function(e){var t=parseInt(e.target.value?e.target.value:1);t=Math.max(Math.min(t,500),1),d(t)}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(A.a,{color:"primary",variant:"contained",onClick:f,disabled:o},"Create ",m," Claims",r.a.createElement(de.a,{size:10})))},Yt=Object(o.a)((function(e){return{root:{display:"flex"},pageContainer:{flexGrow:1,height:"100vh",overflow:"auto",padding:"100px ".concat(e.spacing(4),"px ").concat(e.spacing(4),"px ").concat(e.spacing(4),"px")}}}));var Vt=function(){var e=Yt({});return r.a.createElement(Ie.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(i.a,null),r.a.createElement(Oe,null),r.a.createElement(M,null),r.a.createElement(ne,null),r.a.createElement(s.a,{maxWidth:!1,className:e.pageContainer},r.a.createElement(te.c,null,r.a.createElement(te.a,{path:"/claims",component:$e}),r.a.createElement(te.a,{path:"/policies",component:Ze}),r.a.createElement(te.a,{path:"/staff",component:_t}),r.a.createElement(te.a,{path:"/utility",component:Kt}),r.a.createElement(te.a,{component:wt})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null,r.a.createElement(Vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[463,1,2]]]);
//# sourceMappingURL=main.98f755fb.chunk.js.map